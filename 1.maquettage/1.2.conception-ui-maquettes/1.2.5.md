---
title: 5. Classes m√©tier
layout: home
nav_order: 5
parent: 1.2. Conception UI & maquettes
permalink: /conception-ui-maquettes/classes-metier/
code: 1.2.5
competence: C1
autoformation: "C1.2"
ua: "1.2.U3"
duree_h: 2
objectif: "Esquisser 4‚Äì6 classes (User, Article, Tag, Rating‚Ä¶) et leurs associations/contraintes pour le MVP."
notions_nouvelles: ["Classe m√©tier", "Association (1‚Äìn, n‚Äìn)", "Attribut d√©riv√©", "Unicit√© (slug)"]
fil_rouge: "Mod√®le minimal du Blog (publication, tags, rating)"
livrable_chapitre: "Diagramme Mermaid + tableau attributs/r√®gles + CSV"
alimentation_prototype: "Canevas pour routes/DTOs et donn√©es mock (N2)"
alimentation_miniprojet: "Base du sch√©ma BD/migrations et API (N3)"
---


# üìò Chapitre 1.2.5 ‚Äî 4‚Äì6 classes m√©tier (Article, Tag, User‚Ä¶) + associations

## üìí Glossaire minute
- **Classe m√©tier** : objet repr√©sentant un **concept du domaine** (ex. *Article*, *Tag*, *User*).
- **Attribut** : donn√©e port√©e par la classe (ex. *title*, *status*).
- **Association** : lien entre classes (1‚Äìn, n‚Äìn) porteur de **r√®gles** (unicit√©, optionnalit√©).
- **D√©riv√©** : attribut **calcul√©** (ex. *avg_rating* d‚Äôun article).

## üéØ Objectif p√©dagogique
Produire un **diagramme de classes minimal** (4‚Äì6 classes) couvrant le **MVP** : liste/d√©tail d‚Äôarticles, publication (admin), tags (filtre ult√©rieur) et, si souhait√©, la **notation**. Le r√©sultat sera r√©utilis√© pour le **sch√©ma BD** (C2) et le **prototype HTML/CSS** (C1.3).

---

## üîç Port√©e fil rouge (MVP Blog Laravel + App Mobile)

**Classes minimales cibles**  
- **User** (*Admin*, *Lecteur*)  
- **Article** (*Draft/Published*)  
- **Tag** (facultatif v0.2 si vous repoussez le filtre)  
- **Rating** (*Could* v0.2, note 1..5 par utilisateur)  

> Vous pouvez vous limiter √† **4 classes** (*User, Article, Tag, Rating*) ou ajouter une 5·µâ/6·µâ (ex. *Image*, *Category*) si elle sert un besoin clair.

---

## üß© Diagramme (Mermaid ‚Äî *copiable*)

```mermaid
classDiagram
direction LR

class User {
  +id: ULID
  +name: string
  +email: string (unique)
  +role: enum (Admin, Reader)
}class Article {
  +id: ULID
  +title: string
  +slug: string (unique)
  +excerpt: string?
  +content: text
  +status: enum (Draft, Published)
  +published_at: datetime?
  +avg_rating: float [derive]
}class Tag {
  +id: ULID
  +name: string
  +slug: string (unique)
}

class Rating {
  +id: ULID
  +stars: int (1..5)
  +created_at: datetime
}

User "1" --> "0..*" Article : author
Article "0..*" -- "0..*" Tag : tags
User "1" --> "0..*" Rating : gives
Article "1" --> "0..*" Rating : receives
````

<!-- note for Article "Admin peut 'toggle' status Draft‚ÜîPublished (UC-03)"
note for Rating "UNIQUE(user_id, article_id) ‚Ä¢ avg_rating d√©riv√© sur Article" -->

---

## üß± R√®gles & contraintes (exigences testables)

* **Article**

  * `slug` **unique**, `status ‚àà {Draft, Published}` ; `published_at` requis si **Published**.
  * **AvgRating** = moyenne de `Rating.stars` (lecture seule, calcul√©e).
* **Tag**

  * `name` et `slug` **uniques** ; relation **n‚Äìn** avec *Article*.
* **User**

  * **Admin** seul autoris√© √† publier/d√©publier.
* **Rating**

  * `stars ‚àà [1..5]`, **unicit√©** `(user_id, article_id)` (une note par user/article).

**Tra√ßabilit√©**

* UC : *Consulter liste* (UC-01), *Voir d√©tail* (UC-02), *Publier/D√©publier* (UC-03)
* Stories : US-001, US-002 (**Must**), US-003 (**Should**, Tag), US-005 (**Could**, Rating), US-006 (**Must**, Admin)

---

## üì¶ Livrables attendus (N1)

* `docs/uml/classes.md` (diagramme + r√®gles + tableau attributs)
* `docs/uml/classes.mmd` (source Mermaid)
* `docs/uml/classes.csv` (export des classes/attributs/contraintes)

### Gabarit Markdown (coller & compl√©ter)

```md
# Classes m√©tier (v1)

## Tableau des classes
| Classe  | Attribut                | Type      | Contraintes / Remarques                |
|---------|-------------------------|-----------|----------------------------------------|
| User    | id                      | ULID      | PK                                     |
| User    | name, email             | string    | email unique                           |
| User    | role                    | enum      | {Admin, Reader}                        |
| Article | id                      | ULID      | PK                                     |
| Article | title, slug             | string    | slug unique                            |
| Article | excerpt?                | string    | optionnel                              |
| Article | content                 | text      |                                        |
| Article | status                  | enum      | {Draft, Published}                     |
| Article | published_at?           | datetime  | requis si Published                    |
| Article | avg_rating (d√©riv√©)     | float     | moyenne de Rating.stars                |
| Tag     | id                      | ULID      | PK                                     |
| Tag     | name, slug              | string    | uniques                                |
| Rating  | id                      | ULID      | PK                                     |
| Rating  | stars                   | int       | 1..5                                   |
| Rating  | created_at              | datetime  |                                        |

## Associations
- User 1‚Äî* Article (author)
- Article *‚Äî* Tag (pivot ArticleTag)
- User 1‚Äî* Rating ; Article 1‚Äî* Rating ; UNIQUE(user_id, article_id)
```

### Gabarit CSV (coller & compl√©ter)

```csv
Class,Attribute,Type,Constraints
User,id,ULID,PK
User,name,string,
User,email,string,UNIQUE
User,role,enum,"Admin|Reader"
Article,id,ULID,PK
Article,title,string,
Article,slug,string,UNIQUE
Article,excerpt,string,nullable
Article,content,text,
Article,status,enum,"Draft|Published"
Article,published_at,datetime,nullable_if(Draft)
Article,avg_rating,float,derived
Tag,id,ULID,PK
Tag,name,string,UNIQUE
Tag,slug,string,UNIQUE
Rating,id,ULID,PK
Rating,stars,int,range(1..5)
Rating,created_at,datetime,
```

---

## üõ† V√©rifications (DoR / DoD)

**Definition of Ready**

* [ ] 4‚Äì6 classes max, **championnes du MVP**
* [ ] Attributs **simples** + r√®gles **mesurables**
* [ ] Associations annot√©es (multiplicit√©s, sens m√©tier)

**Definition of Done**

* [ ] Mermaid √† jour (+ export PNG/SVG si besoin)
* [ ] CSV compl√©t√© (contr√¥les d‚Äôunicit√©/enum visibles)
* [ ] Li√© aux chapitres **1.1.3‚Äì1.1.6** et **1.2.1‚Äì1.2.3**

---

## üßæ R√©sum√© et points-cl√©s

* Un **diagramme minimal** mais **testable** vaut mieux qu‚Äôun mod√®le exhaustif.
* **Unicit√©s/enum** et **multiplicit√©s** doivent √™tre pos√©es **d√®s maintenant**.
* Gardez **Tag** (*Should*) et **Rating** (*Could*) si et seulement si utiles au p√©rim√®tre **v0.1‚Äìv0.2**.
