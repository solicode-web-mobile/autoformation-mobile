---
title: 1. Installation & configuration
layout: home
nav_order: 1
parent: 3.1. CRUD avec Laravel
permalink: /laravel-crud/laravel-installation-configuration/
---

# üìò Chapitre 3.1.1 ‚Äî Installation & configuration

## üìí Glossaire minute
- **Composer** : gestionnaire de d√©pendances PHP.
- **Artisan** : CLI officielle de Laravel (`php artisan ...`).
- **`.env`** : variables d‚Äôenvironnement (cl√© d‚Äôapp, DB, URL‚Ä¶).
- **Migration/Seeder** : scripts pour cr√©er/peupler la base.
- **Vite** : outil front (optionnel dans ce chapitre).

---

## üéØ Objectif p√©dagogique
Obtenir un **projet Laravel fonctionnel** en local, reli√© √† une **base MySQL**, avec **cl√© d‚Äôapplication** g√©n√©r√©e, **URL**, **timezone** et **locale** configur√©es. Pr√©parer des **scripts Composer** utiles pour la suite (CRUD, API).

---

## ‚úÖ Pr√©-requis
- PHP ‚â• 8.2, Composer install√©
- MySQL ‚â• 8 (ou MariaDB compatible)
- Git (recommand√©)

---

## üß≠ √âtapes guid√©es

### 1) Cr√©er le projet
```bash
# Dossier de travail
cd ~/work

# Cr√©er un nouveau projet Laravel (m√©thode la plus simple)
composer create-project laravel/laravel blog

cd blog
php artisan --version
````

### 2) Initialiser l‚Äôenvironnement

```bash
# 1) Cr√©er .env √† partir du mod√®le
cp .env.example .env

# 2) G√©n√©rer la cl√© d‚Äôapplication
php artisan key:generate

# 3) Nettoyer/rafra√Æchir le cache de config (s√©curit√©)
php artisan config:clear
```

### 3) Configurer la base de donn√©es

Cr√©e la base (via ton client MySQL ou la CLI) :

```sql
CREATE DATABASE blog CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

√âdite **.env** :

```dotenv
APP_NAME="Blog"
APP_ENV=local
APP_KEY=base64:‚Ä¶            # (d√©j√† rempli par key:generate)
APP_DEBUG=true
APP_URL=http://localhost:8000

LOG_CHANNEL=stack

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=blog
DB_USERNAME=root
DB_PASSWORD=           # adapte selon ta config
```

Applique les migrations :

```bash
php artisan migrate
```

### 4) Param√®tres r√©gionaux (facultatif mais recommand√©)

Dans `config/app.php` :

```php
'timezone' => 'Africa/Casablanca',
'locale'   => 'fr',
'fallback_locale' => 'en',
```

> Apr√®s modification de config, pense √† `php artisan config:clear`.

### 5) Lancer le serveur de dev

```bash
php artisan serve
# Ouvre: http://localhost:8000
```

### 6) (Option) Lien de stockage & cache applicatif

```bash
php artisan storage:link        # si tu pr√©vois d‚Äôutiliser le stockage public
php artisan route:list          # v√©rifier routes
php artisan about               # info sur l‚Äôapp
```

---

## üîß Scripts Composer utiles

√âdite `composer.json` et ajoute :

```json
{
  "scripts": {
    "serve": "php artisan serve",
    "migrate": "php artisan migrate",
    "fresh": "php artisan migrate:fresh",
    "seed": "php artisan db:seed"
  }
}
```

Utilisation :

```bash
composer run serve     # lance le serveur
composer run migrate   # applique les migrations
```

---

## üîç V√©rification rapide

Ajoute une route de test dans `routes/web.php` :

```php
use Illuminate\Support\Facades\Route;

Route::get('/ping', fn() => 'pong');   // http://localhost:8000/ping
```

Tu dois voir `pong` dans le navigateur.

---

## üß© Int√©gration fil rouge (pr√©parer la suite)

Cr√©e le dossier **seed** (sera utilis√© en 3.1.5) :

```bash
mkdir -p storage/seeds
# place ici ton fichier articles.seed.json (cr√©√© en C3.0.8)
```

> En 3.1.5, on branchera ce seed aux **migrations/seeders** pour le CRUD `Article`.

---

## üß™ Erreurs fr√©quentes & correctifs

* **`APP_KEY` manquante** : ex√©cute `php artisan key:generate` puis `php artisan config:clear`.
* **`SQLSTATE[HY000] [1049] Unknown database 'blog'`** : la base n‚Äôexiste pas ‚Üí cr√©e-la puis relance `php artisan migrate`.
* **`Access denied for user`** : v√©rifie `DB_USERNAME`/`DB_PASSWORD` dans `.env`.
* **Extensions PHP manquantes** : installe/active `pdo_mysql`, `mbstring`, `openssl`, `tokenizer`, `xml`, `ctype`, `json`.
* **Page blanche / 500** : active `APP_DEBUG=true` en local, consulte `storage/logs/laravel.log`.

---

## üõ† Tutoriel minute (r√©cap express)

```bash
composer create-project laravel/laravel blog
cd blog
cp .env.example .env
php artisan key:generate
# .env -> DB_* (mysql)
php artisan migrate
php artisan serve
```

---

## üßæ R√©sum√©

* Projet Laravel **install√©** et **d√©marr√©** en local.
* **.env** configur√© (cl√©, URL, DB, debug).
* **Migrations OK**, timezone/locale adapt√©s.
* Scripts Composer pr√™ts pour acc√©l√©rer les commandes.

**Livrable attendu** : un d√©p√¥t `blog` lan√ßable via `composer run serve`, avec `.env` correct, base **migr√©e** et route `/ping` fonctionnelle.
