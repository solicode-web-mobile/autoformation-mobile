---
title: 4. RÃ©seau NIC & MTU
layout: home
nav_order: 4
parent: 7.1. Logique binaire & matÃ©riel PC
permalink: /deploiement/c7-1/nic-mtu/
code: 7.1.4
competence: C7
autoformation: "C7.1"
ua: "7.1.U2"
duree_h: 1.5
objectif: "VÃ©rifier vitesse/duplex, choisir le cÃ¢blage et tester la MTU pour Ã©viter erreurs et fragmentation."
notions_nouvelles: ["NIC", "MAC", "PHY", "Auto-nÃ©gociation", "Full/Half-duplex", "MDI/MDI-X", "MTU", "Jumbo frames", "PoE"]
fil_rouge: "Lien rÃ©seau stable pour dev/API et transferts dâ€™artefacts"
livrable_chapitre: "Ã‰tat NIC (vitesse/duplex), tests MTU (valeur max), fiche cÃ¢blage + plan dâ€™action"
alimentation_prototype: "Connexion 1G stable pour dÃ©mos, pulls et accÃ¨s API N2"
alimentation_miniprojet: "Base rÃ©seau fiable (MTU/duplex) pour dÃ©ploiements et benchs N3"
---


# ğŸ“˜ Chapitre 7.1.4 â€” Carte rÃ©seau (NIC), cÃ¢blage, duplex & **MTU** (aperÃ§u)

## ğŸ“’ Glossaire minute
- **NIC** (*Network Interface Card*) : interface rÃ©seau (intÃ©grÃ©e ou PCIe/USB).  
- **MAC** : adresse matÃ©rielle unique (ex. `00:1A:2B:3C:4D:5E`).  
- **PHY** : couche physique de la NIC (nÃ©gociation, modulation).  
- **Auto-nÃ©gociation** : accord automatique **vitesse/duplex** entre 2 extrÃ©mitÃ©s.  
- **Duplex** : *Half* (alternance) vs *Full* (simultanÃ© Ã©mission/rÃ©ception).  
- **MDI/MDI-X** : croisement automatique des paires (les cÃ¢bles Â« croisÃ©s Â» ne sont plus nÃ©cessaires).  
- **MTU** : taille maximum dâ€™une **trame IP** sur un lien (Ethernet par dÃ©faut **1500**).  
- **Jumbo frames** : MTU > 1500 (ex. 9000) â€” Ã  configurer **sur tout le chemin**.  
- **PoE** : alimentation via Ethernet (802.3af/at/bt).  
- **RJ45 / Cat5e/6/6a** : connecteur / catÃ©gories de cÃ¢bles cuivre torsadÃ©s.

---

## ğŸ¯ Objectifs
- Identifier les **capacitÃ©s** dâ€™une NIC (vitesse, duplex, offload) et lire son **Ã©tat**.  
- Choisir un **cÃ¢ble** adaptÃ© et comprendre les **limites** (catÃ©gorie, longueur).  
- DÃ©tecter/corriger un **mauvais duplex** (symptÃ´mes, rÃ©glages).  
- Comprendre la **MTU** et tester un **problÃ¨me de fragmentation** (aperÃ§u).

## âœ… PrÃ©-requis
- C7.1.1â€“7.1.2 (bases binaires, masques) â€¢ Connaissance de base des commandes systÃ¨me.

---

## 1) NIC â€” vitesses, pilotes & offloads
- **Vitesses usuelles** : 10/100/1000 Mb/s â€¢ 2.5G â€¢ 5G â€¢ 10G (Ethernet cuivre).  
- **Pilote/driver** : expose les fonctions (ex. *checksum offload*, *TSO*, *LRO*).  
- **Statut lien** : *Up/Down*, auto-nÃ©gociation OK ? erreurs **CRC/FCS** ?

ğŸ” **VÃ©rifier la NIC**
```bash
# Linux
ip link show
ethtool eth0
ethtool -S eth0     # statistiques (erreurs, collisions, drops)

# Windows (PowerShell)
Get-NetAdapter
Get-NetAdapterAdvancedProperty -Name "Ethernet"
````

---

## 2) CÃ¢blage & couches physiques (cuivre)

| CatÃ©gorie            | Paires | Vitesse typique |                         Distance conseillÃ©e | Remarques                                       |
| -------------------- | -----: | --------------: | ------------------------------------------: | ----------------------------------------------- |
| **Cat5e UTP**        |      4 |      **1 Gb/s** |                           jusquâ€™Ã  **100 m** | 2.5G/5G parfois possible selon qualitÃ©/longueur |
| **Cat6 UTP/STP**     |      4 |   **1â€“10 Gb/s** | **1G: 100 m**, **10G: \~55 m** (conditions) | Meilleur blindage/diaphonie                     |
| **Cat6a**            |      4 |     **10 Gb/s** |                                   **100 m** | RecommandÃ© pour 10G stable                      |
| **Fibre (SFP/SFP+)** |      â€” |         1G/10Gâ€¦ |                        selon module & fibre | Plus longue portÃ©e, pas de parasites EMI        |

> **Bonnes pratiques** : respecter le rayon de courbure, Ã©viter les sources EMI (alims, moteurs), certifier les liaisons critiques.

---

## 3) Duplex & auto-nÃ©gociation

* **Full-duplex** = Ã©mettre/recevoir en mÃªme temps â†’ **dÃ©bit efficace** et **pas de collisions**.
* **Half-duplex** = alternance (hÃ©ritage des hubs) â†’ collisions possibles.
* **Mismatch** (ex. un cÃ´tÃ© *Full*, lâ€™autre *Half*) â‡’ **dÃ©bits instables**, **retransmissions**, erreurs **Late collisions/FCS**.

ğŸ”§ **Diagnostic**

```bash
# Linux
ethtool eth0 | grep -E "Speed|Duplex|Auto-negotiation|Link detected"
# Forcer (exemple - Ã  nâ€™utiliser quâ€™en dernier recours)
sudo ethtool -s eth0 speed 1000 duplex full autoneg on

# Windows
Get-NetAdapter | ft Name,Status,LinkSpeed
# RÃ©glages Duplex/Vitesse dans "Advanced" de la carte (Gestionnaire de pÃ©riphÃ©riques)
```

> **RÃ¨gle** : **laisser lâ€™auto-nÃ©gociation activÃ©e** des deux cÃ´tÃ©s. Forcer manuellement **uniquement** si vous savez exactement ce que vous faites.

---

## 4) MTU, fragmentation & MSS (aperÃ§u)

* **MTU Ethernet** par dÃ©faut : **1500** (octets IP).
* **Path MTU** : plus petite MTU sur le chemin â†’ peut causer **fragmentation** ou **paquets bloquÃ©s** (DF=Donâ€™t Fragment).
* **MSS (TCP)** â‰ˆ MTU âˆ’ entÃªtes IP/TCP (1500 âˆ’ 20 âˆ’ 20 = **1460** par dÃ©faut).
* **Jumbo frames** (ex. **9000**) : utiles pour gros transferts **LAN** homogÃ¨nes â†’ Ã  configurer **sur toutes** les interfaces actives (hÃ´tes/switch).

ğŸ§ª **Tester la MTU**

```bash
# Linux : tester sans fragmentation
ping -M do -s 1472 8.8.8.8   # 1472 + 28 (IP+ICMP) â‰ˆ 1500

# Windows : flag DF
ping -f -l 1472 8.8.8.8
```

> Si Ã§a Ã©choue, diminuer par pas de 10/20 jusquâ€™Ã  trouver la taille qui passe â†’ ajuster **MTU** ou Ã©viter les cheminements qui fragmentent (VPNs, tunnels).

---

## 5) SymptÃ´mes & correction (cas typiques)

* **DÃ©bit plafonnÃ©/instable** : cÃ¢ble/catÃ©gorie inadÃ©quate, **duplex mismatch**, nÃ©gociation Ã  100 Mb/s.
* **Pings qui perdent** avec payload Ã©levÃ© : **MTU trop grande** sur un maillon (VPN/tunnel).
* **Erreurs CRC/FCS** : cÃ¢ble endommagÃ©/longueur excessive, connecteurs mal sertis â†’ **remplacer/tester**.
* **Lien DOWN intermittent** : alimentation PoE limite, prise RJ45 lÃ¢che, cÃ¢ble trop pliÃ©.

---

## 6) Cheatsheet â€” commandes utiles

```bash
# Linux
ip a                           # interfaces & adresses
ip link set dev eth0 mtu 1500  # changer MTU (exemple)
ethtool eth0                   # Ã©tat, vitesses supportÃ©es
ethtool -S eth0                # stats (erreurs, drops)
mii-tool eth0                  # (legacy) nÃ©gociation

# Windows
Get-NetAdapter
Get-NetIPInterface            # voir/modifier MTU (Requires elevation)
```

---

## ğŸ§ª Exercices (avec attentes)

1. **Relever** : vitesse/duplex/auto-neg de votre NIC + **catÃ©gorie** du cÃ¢ble utilisÃ©.
2. **Mesurer** : ping MTU (Linux `-M do -s`, Windows `-f -l`) â†’ dÃ©terminer la **plus grande taille** qui passe.
3. **Diagnostiquer** un dÃ©bit `~90 Mb/s` sur rÃ©seau censÃ© Ãªtre 1 Gb/s : lister les hypothÃ¨ses (duplex, cÃ¢ble, port 100 Mb/s, pilote), **vÃ©rifier** et **corriger**.

## ğŸ“¦ Livrables attendus

* Capture dâ€™Ã©cran/console **Ã©tat NIC** (vitesse/duplex/auto-neg).
* RÃ©sultats **tests MTU** (valeur max sans fragmentation + conclusion).
* Fiche **cÃ¢blage** (catÃ©gorie, longueur estimÃ©e, remplacement si nÃ©cessaire) + **plan dâ€™action**.

## âœ… Check-list (DoD)

* [ ] Ma NIC **nÃ©gocie** en **1G Full-duplex** (ou plus) et **lien up** stable.
* [ ] Le **cÃ¢ble** est adaptÃ© (Cat5e/6/6a) et en bon Ã©tat (pas de pliage net).
* [ ] La **MTU** est cohÃ©rente **sur tout le chemin** (pas de fragmentation inattendue).
* [ ] Aucune **erreur CRC/FCS** significative au compteur, dÃ©bit conforme aux attentes.

> **Ã‰tape suivante :** C7.1.5 (DÃ©marrage BIOS/UEFI, processus & services â€” aperÃ§u) pour relier le matÃ©riel Ã  lâ€™OS.
