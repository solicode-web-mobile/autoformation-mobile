---
title: 4. Réseau NIC & MTU
layout: home
nav_order: 4
parent: 7.1. Logique binaire & matériel PC
permalink: /deploiement/c7-1/nic-mtu/
code: 7.1.4
competence: C7
autoformation: "C7.1"
ua: "7.1.U2"
duree_h: 1.5
objectif: "Vérifier vitesse/duplex, choisir le câblage et tester la MTU pour éviter erreurs et fragmentation."
notions_nouvelles: ["NIC", "MAC", "PHY", "Auto-négociation", "Full/Half-duplex", "MDI/MDI-X", "MTU", "Jumbo frames", "PoE"]
fil_rouge: "Lien réseau stable pour dev/API et transferts d’artefacts"
livrable_chapitre: "État NIC (vitesse/duplex), tests MTU (valeur max), fiche câblage + plan d’action"
alimentation_prototype: "Connexion 1G stable pour démos, pulls et accès API N2"
alimentation_miniprojet: "Base réseau fiable (MTU/duplex) pour déploiements et benchs N3"
---


# 📘 Chapitre 7.1.4 — Carte réseau (NIC), câblage, duplex & **MTU** (aperçu)

## 📒 Glossaire minute
- **NIC** (*Network Interface Card*) : interface réseau (intégrée ou PCIe/USB).  
- **MAC** : adresse matérielle unique (ex. `00:1A:2B:3C:4D:5E`).  
- **PHY** : couche physique de la NIC (négociation, modulation).  
- **Auto-négociation** : accord automatique **vitesse/duplex** entre 2 extrémités.  
- **Duplex** : *Half* (alternance) vs *Full* (simultané émission/réception).  
- **MDI/MDI-X** : croisement automatique des paires (les câbles « croisés » ne sont plus nécessaires).  
- **MTU** : taille maximum d’une **trame IP** sur un lien (Ethernet par défaut **1500**).  
- **Jumbo frames** : MTU > 1500 (ex. 9000) — à configurer **sur tout le chemin**.  
- **PoE** : alimentation via Ethernet (802.3af/at/bt).  
- **RJ45 / Cat5e/6/6a** : connecteur / catégories de câbles cuivre torsadés.

---

## 🎯 Objectifs
- Identifier les **capacités** d’une NIC (vitesse, duplex, offload) et lire son **état**.  
- Choisir un **câble** adapté et comprendre les **limites** (catégorie, longueur).  
- Détecter/corriger un **mauvais duplex** (symptômes, réglages).  
- Comprendre la **MTU** et tester un **problème de fragmentation** (aperçu).

## ✅ Pré-requis
- C7.1.1–7.1.2 (bases binaires, masques) • Connaissance de base des commandes système.

---

## 1) NIC — vitesses, pilotes & offloads
- **Vitesses usuelles** : 10/100/1000 Mb/s • 2.5G • 5G • 10G (Ethernet cuivre).  
- **Pilote/driver** : expose les fonctions (ex. *checksum offload*, *TSO*, *LRO*).  
- **Statut lien** : *Up/Down*, auto-négociation OK ? erreurs **CRC/FCS** ?

🔍 **Vérifier la NIC**
```bash
# Linux
ip link show
ethtool eth0
ethtool -S eth0     # statistiques (erreurs, collisions, drops)

# Windows (PowerShell)
Get-NetAdapter
Get-NetAdapterAdvancedProperty -Name "Ethernet"
````

---

## 2) Câblage & couches physiques (cuivre)

| Catégorie            | Paires | Vitesse typique |                         Distance conseillée | Remarques                                       |
| -------------------- | -----: | --------------: | ------------------------------------------: | ----------------------------------------------- |
| **Cat5e UTP**        |      4 |      **1 Gb/s** |                           jusqu’à **100 m** | 2.5G/5G parfois possible selon qualité/longueur |
| **Cat6 UTP/STP**     |      4 |   **1–10 Gb/s** | **1G: 100 m**, **10G: \~55 m** (conditions) | Meilleur blindage/diaphonie                     |
| **Cat6a**            |      4 |     **10 Gb/s** |                                   **100 m** | Recommandé pour 10G stable                      |
| **Fibre (SFP/SFP+)** |      — |         1G/10G… |                        selon module & fibre | Plus longue portée, pas de parasites EMI        |

> **Bonnes pratiques** : respecter le rayon de courbure, éviter les sources EMI (alims, moteurs), certifier les liaisons critiques.

---

## 3) Duplex & auto-négociation

* **Full-duplex** = émettre/recevoir en même temps → **débit efficace** et **pas de collisions**.
* **Half-duplex** = alternance (héritage des hubs) → collisions possibles.
* **Mismatch** (ex. un côté *Full*, l’autre *Half*) ⇒ **débits instables**, **retransmissions**, erreurs **Late collisions/FCS**.

🔧 **Diagnostic**

```bash
# Linux
ethtool eth0 | grep -E "Speed|Duplex|Auto-negotiation|Link detected"
# Forcer (exemple - à n’utiliser qu’en dernier recours)
sudo ethtool -s eth0 speed 1000 duplex full autoneg on

# Windows
Get-NetAdapter | ft Name,Status,LinkSpeed
# Réglages Duplex/Vitesse dans "Advanced" de la carte (Gestionnaire de périphériques)
```

> **Règle** : **laisser l’auto-négociation activée** des deux côtés. Forcer manuellement **uniquement** si vous savez exactement ce que vous faites.

---

## 4) MTU, fragmentation & MSS (aperçu)

* **MTU Ethernet** par défaut : **1500** (octets IP).
* **Path MTU** : plus petite MTU sur le chemin → peut causer **fragmentation** ou **paquets bloqués** (DF=Don’t Fragment).
* **MSS (TCP)** ≈ MTU − entêtes IP/TCP (1500 − 20 − 20 = **1460** par défaut).
* **Jumbo frames** (ex. **9000**) : utiles pour gros transferts **LAN** homogènes → à configurer **sur toutes** les interfaces actives (hôtes/switch).

🧪 **Tester la MTU**

```bash
# Linux : tester sans fragmentation
ping -M do -s 1472 8.8.8.8   # 1472 + 28 (IP+ICMP) ≈ 1500

# Windows : flag DF
ping -f -l 1472 8.8.8.8
```

> Si ça échoue, diminuer par pas de 10/20 jusqu’à trouver la taille qui passe → ajuster **MTU** ou éviter les cheminements qui fragmentent (VPNs, tunnels).

---

## 5) Symptômes & correction (cas typiques)

* **Débit plafonné/instable** : câble/catégorie inadéquate, **duplex mismatch**, négociation à 100 Mb/s.
* **Pings qui perdent** avec payload élevé : **MTU trop grande** sur un maillon (VPN/tunnel).
* **Erreurs CRC/FCS** : câble endommagé/longueur excessive, connecteurs mal sertis → **remplacer/tester**.
* **Lien DOWN intermittent** : alimentation PoE limite, prise RJ45 lâche, câble trop plié.

---

## 6) Cheatsheet — commandes utiles

```bash
# Linux
ip a                           # interfaces & adresses
ip link set dev eth0 mtu 1500  # changer MTU (exemple)
ethtool eth0                   # état, vitesses supportées
ethtool -S eth0                # stats (erreurs, drops)
mii-tool eth0                  # (legacy) négociation

# Windows
Get-NetAdapter
Get-NetIPInterface            # voir/modifier MTU (Requires elevation)
```

---

## 🧪 Exercices (avec attentes)

1. **Relever** : vitesse/duplex/auto-neg de votre NIC + **catégorie** du câble utilisé.
2. **Mesurer** : ping MTU (Linux `-M do -s`, Windows `-f -l`) → déterminer la **plus grande taille** qui passe.
3. **Diagnostiquer** un débit `~90 Mb/s` sur réseau censé être 1 Gb/s : lister les hypothèses (duplex, câble, port 100 Mb/s, pilote), **vérifier** et **corriger**.

## 📦 Livrables attendus

* Capture d’écran/console **état NIC** (vitesse/duplex/auto-neg).
* Résultats **tests MTU** (valeur max sans fragmentation + conclusion).
* Fiche **câblage** (catégorie, longueur estimée, remplacement si nécessaire) + **plan d’action**.

## ✅ Check-list (DoD)

* [ ] Ma NIC **négocie** en **1G Full-duplex** (ou plus) et **lien up** stable.
* [ ] Le **câble** est adapté (Cat5e/6/6a) et en bon état (pas de pliage net).
* [ ] La **MTU** est cohérente **sur tout le chemin** (pas de fragmentation inattendue).
* [ ] Aucune **erreur CRC/FCS** significative au compteur, débit conforme aux attentes.

> **Étape suivante :** C7.1.5 (Démarrage BIOS/UEFI, processus & services — aperçu) pour relier le matériel à l’OS.
