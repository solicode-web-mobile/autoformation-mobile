---
title: 2.1. Schéma & Eloquent
permalink: /schema-eloquent-bases/
layout: home
nav_order: 1
parent: 2. Base-de-données
has_children: true
---

# 🗄️ Comprendre le **schéma** & **Eloquent**

Avant toute fonctionnalité, une application repose sur un **modèle de données solide**. Cette autoformation vous apprend à **concevoir un schéma relationnel** (PK/FK, contraintes), à le **versionner avec des migrations**, à **générer des jeux de données** (seeders/factories) et à **manipuler ces données** via **Eloquent** (CRUD & relations).

## Pourquoi apprendre ces notions ?
- **Structurer correctement** les données : clés primaires/étrangères, **unicité**, **contraintes**.
- **Fiabiliser l’évolution** du schéma avec des **migrations versionnées** (reproductible sur tous les postes).
- **Prototyper vite** grâce à des **seeders/factories** cohérents (mêmes données pour toute la classe).
- **Coder plus lisible** : **Eloquent** simplifie CRUD et **relations** (1-n, n-n, pivot).
- **Préparer la suite** : API, pagination, filtres et application Mobile s’appuieront sur ces bases.

## Objectifs de l’autoformation
À la fin, vous saurez :
1. **Modéliser** un mini-schéma (ex. *Article*, *Tag*, *User*) avec **PK/FK** et **index** utiles.  
2. Écrire et exécuter des **migrations** et **seeders** (réutilisation d’un `articles.seed.json` si disponible).  
3. Créer un **modèle Eloquent** et réaliser un **CRUD** simple.  
4. Déclarer des **relations** 1-n (*User → Article*) et n-n (*Article ↔ Tag*) avec **table pivot** et méthodes `attach/sync`.  
5. Mettre en place quelques **bonnes pratiques** (nomenclature, timestamps, soft deletes — aperçu).

## À qui s’adresse ce module ?
Aux **débutants en bases de données & Laravel** souhaitant partir sur des **fondations propres** avant l’API et le Mobile. Aisance minimale en **PHP/Composer** conseillée.

---

## 🔗 Fil rouge (Blog Laravel)
Vous appliquerez ces notions au **Blog Laravel** :  
- Tables **articles**, **tags** (+ **article_tag**), **users** ;  
- **Migrations** reproductibles ; **seeders/factories** pour données de test ;  
- **Eloquent** pour lister, créer, mettre à jour et associer **tags ↔ articles**.

---

## 📘 Unités d’apprentissage (UAs) couvertes

### UA 2.1.U1 – Schéma par migrations *(≈ 4 h)*
- **Chapitre 2.1.1** : **Création de tables** avec **PK/FK** et **contraintes** *(≈ 2 h)*  
- **Chapitre 2.1.2** : **Seeders** & **jeux de données** de test *(≈ 2 h)*

### UA 2.1.U2 – Eloquent débutant *(≈ 6 h)*
- **Chapitre 2.1.3** : **CRUD basique** avec un **modèle simple** *(≈ 3 h)*  
- **Chapitre 2.1.4** : **Relations 1-n et n-n** (pivots, `attach/sync`) *(≈ 3 h)*

---

## 📂 Livrables attendus (Niveau 1)
- **Migrations** et **seeders** exécutables (`php artisan migrate`, `php artisan db:seed`).  
- Au moins **un modèle** Eloquent fonctionnel (ex. `Article`) + **factory**.  
- **Relations** configurées et **données associées** (ex. `article_tag`).  
- Mini-README : **commandes** pour (re)créer la base et semer les données.

---

## 🧭 Pistes de vérification rapide
- Les **FK** empêchent la suppression incohérente (intégrité référentielle).  
- Les **seeders** produisent des données **cohérentes et suffisantes**.  
- Les **relations** retournent les bons jeux (ex. `Article::first()->tags`).  

---
