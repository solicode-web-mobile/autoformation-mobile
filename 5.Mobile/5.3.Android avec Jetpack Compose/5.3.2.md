---
title: 2. Layouts & thÃ¨mes
layout: home
nav_order: 2
parent: 5.3. Android avec Compose
permalink: /android-compose/layouts-themes/
code: 5.3.2
competence: C5
autoformation: "C5.3"
ua: "5.3.U1"
duree_h: 1.5
objectif: "Composer des Ã©crans propres avec Row/Column/Box, espacement 8dp et Material 3."
notions_nouvelles: ["Row", "Column", "Box", "weight", "Surface/Card", "Typography M3"]
fil_rouge: "HelloCounter â€” structure dâ€™Ã©cran et cartes dâ€™info"
livrable_chapitre: "ScreenScaffold + InfoCard + prÃ©views Light/Dark"
alimentation_prototype: "Rythme visuel cohÃ©rent pour la dÃ©mo N2"
alimentation_miniprojet: "ThÃ¨me/espacements standard pour Ã©crans N3"
---

# ðŸ“˜ 5.3.2 - Layouts & thÃ¨mes

## ðŸ“’ Glossaire minute
- **Row / Column / Box** : conteneurs pour organiser lâ€™UI (aligner, empiler, superposer).  
- **Modifier** : enchaÃ®ne des rÃ©glages (taille, padding, poidsâ€¦).  
- **Arrangement / Alignment** : contrÃ´lent espacement et alignement.  
- **Material 3 (M3)** : couleurs, formes, typos gÃ©rÃ©es via `MaterialTheme`.  
- **Baseline 8dp** : rÃ¨gle dâ€™espacement rÃ©guliÃ¨re (4/8/16/24/32â€¦).  
- **dp (density-independent pixel)** : unitÃ© dâ€™Android qui adapte la taille des Ã©lÃ©ments Ã  la densitÃ© dâ€™Ã©cran.  
  ðŸ‘‰ Exemple : `16.dp` correspond Ã  ~16 pixels sur un Ã©cran de densitÃ© moyenne, mais sera automatiquement agrandi/rÃ©duit sur des Ã©crans trÃ¨s denses ou trÃ¨s larges.  

---

## ðŸŽ¯ Objectif pÃ©dagogique
Analyser lâ€™organisation des Ã©crans dans **HelloCounter**, comprendre lâ€™usage de `Row`, `Column`, `Box` et voir comment le **thÃ¨me Material 3** uniformise lâ€™UI.

---

## ðŸ§  Exemples tirÃ©s de HelloCounter

### 1. `Column` â€“ structure de lâ€™Ã©cran principal
Dans **MainScreen**, on empile les deux sections (saisie + compteur).

```kotlin
@Composable
fun MainScreen(modifier: Modifier = Modifier) {
    Column(
        modifier = modifier
            .fillMaxSize()
            .padding(16.dp)
            .verticalScroll(rememberScrollState()),
        verticalArrangement = Arrangement.spacedBy(24.dp),
        horizontalAlignment = Alignment.CenterHorizontally
    ) {
        DireBonjourSection()
        CompteurSection()   // âœ… ajout au Temps 2
    }
}
````

ðŸ‘‰ `Column` empile verticalement les sections.

* `spacedBy(24.dp)` â†’ espace rÃ©gulier.
* `horizontalAlignment.CenterHorizontally` â†’ contenu centrÃ©.

---

### 2. `Column` dans DireBonjourSection

```kotlin
@Composable
fun DireBonjourSection(modifier: Modifier = Modifier) {
    var name by rememberSaveable { mutableStateOf("") }
    var greetingName by rememberSaveable { mutableStateOf<String?>(null) }

    Column(
        modifier = modifier.fillMaxWidth(),
        verticalArrangement = Arrangement.spacedBy(12.dp)
    ) {
        OutlinedTextField(
            value = name,
            onValueChange = { name = it },
            label = { Text(stringResource(R.string.label_firstname)) },
            placeholder = { Text(stringResource(R.string.ph_firstname)) }
        )

        Button(
            onClick = { greetingName = name.takeIf { it.isNotBlank() } },
            enabled = name.isNotBlank()
        ) {
            Text(stringResource(R.string.btn_greet))
        }

        if (greetingName != null) {
            AssistChip(onClick = { }, label = { Text("Bonjour $greetingName") })
        }
    }
}
```

ðŸ‘‰ Ici :

* Tous les Ã©lÃ©ments (champ, bouton, chip) sont empilÃ©s verticalement.
* `spacedBy(12.dp)` garde un rythme visuel propre.

---

### 3. `Row` dans CompteurSection

```kotlin
@Composable
fun CompteurSection(modifier: Modifier = Modifier) {
    var count by rememberSaveable { mutableStateOf(0) }

    Row(
        horizontalArrangement = Arrangement.spacedBy(12.dp),
        verticalAlignment = Alignment.CenterVertically,
        modifier = Modifier.fillMaxWidth()
    ) {
        IconButton(onClick = { if (count > 0) count-- }) {
            Icon(Icons.Filled.Remove, contentDescription = stringResource(R.string.cd_decrement))
        }

        Text(
            text = "$count",
            style = MaterialTheme.typography.headlineSmall,
            modifier = Modifier.widthIn(min = 40.dp)
        )

        IconButton(onClick = { count++ }) {
            Icon(Icons.Filled.Add, contentDescription = stringResource(R.string.cd_increment))
        }
    }
}
```

ðŸ‘‰ `Row` aligne les Ã©lÃ©ments sur une mÃªme ligne : bouton âˆ’, texte du compteur, bouton +.

* `spacedBy(12.dp)` â†’ espace horizontal constant.
* `verticalAlignment.CenterVertically` â†’ icÃ´nes et texte sont centrÃ©s.

---

### 4. `Box` â€“ superposition (exemple complÃ©mentaire)

MÃªme si HelloCounter ne lâ€™utilise pas encore, voici un exemple pour afficher un **badge** sur une image.

```kotlin
@Composable
fun AvatarWithBadge() {
    Box(modifier = Modifier.size(72.dp)) {
        Image(
            painter = painterResource(R.drawable.ic_launcher_foreground),
            contentDescription = null,
            modifier = Modifier.matchParentSize()
        )
        Surface(
            color = MaterialTheme.colorScheme.error,
            shape = CircleShape,
            modifier = Modifier
                .size(16.dp)
                .align(Alignment.BottomEnd)
        ) {}
    }
}
```

ðŸ‘‰ `Box` permet de **superposer** le badge rouge en bas Ã  droite.

---






## ðŸŽ¨ ThÃ¨me Material 3

Dans toutes les sections, on utilise :

* **Couleurs** : via `MaterialTheme.colorScheme.*` (`primary`, `error`, `background`â€¦)  
* **Typographie** : via `MaterialTheme.typography.*` (`titleLarge`, `bodyMedium`, `headlineSmall`â€¦)  
* **Surfaces** : via `Surface` ou `Card` pour gÃ©rer Ã©lÃ©vation et contraste.  

---

### ðŸ”Ž Focus : `ElevatedCard`

Une **Card** est un conteneur Material qui sert Ã  regrouper et mettre en valeur un bloc dâ€™informations (texte, image, boutonâ€¦).  
Il existe trois variantes principales :  

- `Card` â†’ carte plate, sans relief.  
- `ElevatedCard` â†’ carte avec une **ombre lÃ©gÃ¨re**, qui donne une impression de profondeur.  
- `OutlinedCard` â†’ carte entourÃ©e dâ€™un contour fin.  

ðŸ‘‰ `ElevatedCard` est idÃ©ale pour attirer lâ€™attention sur une information importante, tout en respectant le style Material 3.

---

### Exemple : InfoCard

```kotlin
@Composable
fun InfoCard(text: String) {
    ElevatedCard(
        modifier = Modifier.fillMaxWidth(),
        colors = CardDefaults.elevatedCardColors(
            containerColor = MaterialTheme.colorScheme.surface
        )
    ) {
        Text(
            text,
            style = MaterialTheme.typography.bodyMedium,
            modifier = Modifier.padding(16.dp)
        )
    }
}
```

ðŸ‘‰ Ici :

* `ElevatedCard` ajoute du **relief visuel**.
* `containerColor` reprend une couleur du thÃ¨me.
* Le `Text` Ã  lâ€™intÃ©rieur est stylisÃ© avec la **typographie Material**.

---

## ðŸ§¾ RÃ©sumÃ© et points-clÃ©s

* `Column` = **empile verticalement** (ex. MainScreen, DireBonjourSection).
* `Row` = **aligne horizontalement** (ex. CompteurSection).
* `Box` = **superpose/ancre** (utile pour badges, overlays).
* Material 3 fournit un **cadre cohÃ©rent** (couleurs, typo, surfaces).
* Les tailles/espacements sont exprimÃ©s en **dp** (unitÃ©s indÃ©pendantes de la densitÃ© dâ€™Ã©cran).
* `ElevatedCard` permet de **mettre en valeur** une info grÃ¢ce Ã  une lÃ©gÃ¨re Ã©lÃ©vation.



## âœ… Definition of Done

* [ ] Lâ€™apprenant sait identifier un `Row`, une `Column`, une `Box`.
* [ ] Il comprend lâ€™usage des espacements (`spacedBy`, padding, `dp`).
* [ ] Il applique `MaterialTheme` (couleurs + typography).
* [ ] Il peut prÃ©visualiser lâ€™Ã©cran en Light/Dark.

---
