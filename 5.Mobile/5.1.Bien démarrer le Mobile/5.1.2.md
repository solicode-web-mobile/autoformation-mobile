---
title: 2. CrÃ©er un projet
layout: home
nav_order: 2
parent: 5.1. Bien dÃ©marrer le Mobile
permalink: /mobile-onboarding/creer-projet/
code: 5.1.2
competence: C5
autoformation: "C5.1"
ua: "5.1.U1"
duree_h: 1.5
objectif: "CrÃ©er un projet Jetpack Compose propre (package, minSdk, Compose activÃ©) qui compile et sâ€™exÃ©cute."
notions_nouvelles: ["Package name", "minSdk", "Gradle Sync", "Compose BOM", "Kotlin DSL (build.gradle.kts)"]
fil_rouge: "HelloCounter â€” base projet pour lâ€™App Mobile du Blog"
livrable_chapitre: "Gradle Sync OK + app lancÃ©e (AVD/device) + `app/build.gradle.kts` propre"
alimentation_prototype: "Projet opÃ©rationnel pour dÃ©velopper les Ã©crans de dÃ©mo N2"
alimentation_miniprojet: "Base saine pour intÃ©grer rÃ©seau, tests et modules N3"
---


# ğŸ“˜ 5.1.2 - CrÃ©er un projet
## ğŸ“’ Glossaire minute
- **Package name** : identifiant unique de lâ€™app (ex. `com.ecole.hellocounter`).
- **minSdk** : version Android minimale supportÃ©e (**recommandÃ©**: `24` ou plus).
- **Gradle Sync** : Ã©tape oÃ¹ Android Studio tÃ©lÃ©charge les dÃ©pendances et configure le build.
- **Empty Compose Activity** : modÃ¨le de projet prÃªt pour **Jetpack Compose**.

---

## âœ… Objectif
CrÃ©er un **nouveau projet Compose** avec un **package propre**, un **minSdk cohÃ©rent** et un **build qui compile** (Gradle Sync OK), prÃªt Ã  Ãªtre exÃ©cutÃ© sur **Ã©mulateur** ou **appareil**.

---

## ğŸ”§ PrÃ©-requis
- Avoir terminÃ© **5.1.1** (Android Studio + SDK + AVD/ADB OK).
- Espace disque & connexion rÃ©seau pour que Gradle rÃ©cupÃ¨re les dÃ©pendances.

---

## 1) Nouveau projet (Assistant Android Studio)
1. **New Project â†’ Empty Activity (Jetpack Compose)** *(ou â€œEmpty Compose Activityâ€ selon version)*.  
2. **Configure your project** :
   - **Name** : `HelloCounter`
   - **Package name** : `com.<organisation>.<app>` â†’ ex. `com.acme.hellocounter`
   - **Save location** : dossier sans espace si possible
   - **Language** : **Kotlin**
   - **Minimum SDK** : **API 24: Android 7.0** (ou plus selon vos besoins)
   - **Use Kotlin DSL (build.gradle.kts)** : âœ… (recommandÃ©)
3. Cliquer **Finish** â†’ Android Studio gÃ©nÃ¨re le projet.

> ğŸ’¡ **Convention package** : tout en **minuscules**, segments courts, stables dans le temps.

---

## 2) VÃ©rifier JDK & options Compose
- **File â†’ Settings â†’ Build, Execution, Deployment â†’ Gradle**  
  **Gradle JDK** : **17 (Embedded JDK)** recommandÃ©.  
  > âš ï¸ Si tu vois une erreur du type  
  *â€œUnsupported class file major versionâ€* ou *â€œGradle JDK incompatibleâ€*,  
  cela veut dire que tu utilises un JDK trop rÃ©cent (ex. JBR 20).  
  Dans ce cas, modifie la configuration et sÃ©lectionne **Embedded JDK 17**.
- Ouvrir `app/build.gradle.kts` et contrÃ´ler que **Compose est activÃ©** (voir plus bas).
 

```kotlin
android {
    // ...
    buildFeatures {
        compose = true   // âœ… doit Ãªtre prÃ©sent
    }
}
```
---

## 3) Lancer un **Gradle Sync**
- Bandeau bleu **Sync Now** (ou **File â†’ Sync Project with Gradle Files**).  
- Attendre le message **Build successful** en bas.  
- Si Ã§a Ã©choue, voir **DÃ©pannage**.

---


## 4) VÃ©rifier / complÃ©ter la configuration Gradle

### ğŸ“‚ `settings.gradle.kts`

Tu nâ€™as rien Ã  modifier ici â†’ Android Studio crÃ©e dÃ©jÃ  le bon fichier (dÃ©pÃ´ts + module `:app`).

---

### ğŸ“‚ `app/build.gradle.kts`

Deux points seulement sont importants :

#### 1. Compose doit Ãªtre activÃ©

```kts
buildFeatures {
    compose = true
}
```

ğŸ‘‰ Normalement, câ€™est dÃ©jÃ  ajoutÃ© par Android Studio.
âš ï¸ Si tu ne lâ€™as pas, le code `@Composable` ne sera pas reconnu.

---

#### 2. VÃ©rifier la version de Java utilisÃ©e

```kts
compileOptions {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}
kotlinOptions {
    jvmTarget = "17"
}
```

ğŸ‘‰ Par dÃ©faut, certains projets peuvent Ãªtre gÃ©nÃ©rÃ©s en **Java 11**.

* **Ne modifie rien tant que ton projet compile**.
* âš ï¸ Si tu vois une erreur du type :
  *â€œUnsupported class file major versionâ€* ou
  *â€œThis version of Compose requires Java 17â€*
  ğŸ‘‰ alors seulement Ã  ce moment-lÃ , tu modifies pour mettre **Java 17**.

---

### âœ… En rÃ©sumÃ©

* **Ne change rien** si ton projet compile et que Gradle Sync est vert.
* **Change uniquement** si une erreur signale que Compose ou Gradle a besoin de Java 17.


## 5) Code Compose de dÃ©part 

Avant dâ€™aller plus loin, **teste le projet tel quâ€™il est gÃ©nÃ©rÃ©** par Android Studio.

ğŸ‘‰ Ã‰tape 1 : **exÃ©cuter le code par dÃ©faut** (le "Hello World" affichÃ© par Android Studio).
ğŸ‘‰ Ã‰tape 2 : **remplacer ce code** par celui-ci (version avec un compteur) et exÃ©cuter Ã  nouveau.

**`MainActivity.kt`**

```kotlin
package com.acme.hellocounter

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.tooling.preview.Preview

class MainActivity : ComponentActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContent { App() }
  }
}

@Composable
fun App() {
  MaterialTheme {
    Greeting()
  }
}

@Composable
fun Greeting() {
  var count by remember { mutableStateOf(0) }
  Button(onClick = { count++ }) { Text("Hello, count = $count") }
}

@Preview(showBackground = true)
@Composable
fun PreviewApp() {
  App()
}
```

> âœ¨ Dans lâ€™onglet **Split/Design**, utilisez lâ€™aperÃ§u `@Preview` â†’ cliquez **Build & Refresh** si besoin.

---

## 6) ExÃ©cuter lâ€™app (Ã©mulateur ou device)

1. DÃ©marrer un **AVD** (Virtual Device Manager) **ou** brancher un **tÃ©lÃ©phone Android** (mode dÃ©veloppeur activÃ©).
2. SÃ©lectionner la cible dans la barre dâ€™outils dâ€™Android Studio.
3. Cliquer **Run â–¶** â†’ lâ€™app *Hello, count = â€¦* doit sâ€™ouvrir.



## ğŸ§ª VÃ©rifications rapides

* **Gradle Sync** : **OK** sans erreurs.
* **Run** : lâ€™app dÃ©marre sur **AVD** ou **device**.
* **Preview Compose** : visible dans Android Studio.

---

## ğŸ©¹ DÃ©pannage (FAQ)

* **Sync Ã©choue (versions Compose/AGP)** : mettez Ã  jour **Android Gradle Plugin** et la **Compose BOM** (ou utilisez un **Version Catalog** `libs.versions.toml`).
* **JDK incompatible** : **Gradle JDK = 17** dans Settings.
* **DÃ©pendances introuvables** : vÃ©rifiez que `google()` et `mavenCentral()` sont bien dans **tous** les blocs `repositories`.
* **Min SDK trop bas** : Compose moderne requiert **minSdk â‰¥ 21** ; **24** est un bon compromis.
* **Preview vide** : nettoyer/rebuilder (**Build â†’ Clean Project**, puis **Rebuild Project**), puis **Refresh** dans lâ€™aperÃ§u.

---

## ğŸ“¦ Livrables attendus

* Capture **Gradle Sync successful**.
* Capture de lâ€™app **en exÃ©cution** (AVD ou device).
* `app/build.gradle.kts` propre (Compose activÃ© + BOM) et **package** bien nommÃ©.

---

## âœ… DoD â€” Definition of Done

* [ ] Projet **Compose** crÃ©Ã© (Empty Compose Activity).
* [ ] **minSdk** choisi (â‰¥ 24 recommandÃ©) et **package** conforme.
* [ ] **Gradle Sync** vert, **Run** OK sur AVD/device.
* [ ] **Preview Compose** sâ€™affiche.

---

## âš¡ Cheatsheet

```bash
# Construire lâ€™APK debug en CLI
./gradlew assembleDebug

# Installer sur lâ€™appareil connectÃ©
./gradlew installDebug

# Lancer lâ€™app (si task disponible) ou cliquer Run dans lâ€™IDE
adb shell monkey -p com.acme.hellocounter -c android.intent.category.LAUNCHER 1
```
