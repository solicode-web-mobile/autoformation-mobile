---
title: 2. Cr√©er un projet
layout: home
nav_order: 2
parent: 5.1. Bien d√©marrer le Mobile
permalink: /mobile-onboarding/creer-projet/
code: 5.1.2
competence: C5
autoformation: "C5.1"
ua: "5.1.U1"
duree_h: 1.5
objectif: "Cr√©er un projet Jetpack Compose propre (package, minSdk, Compose activ√©) qui compile et s‚Äôex√©cute."
notions_nouvelles: ["Package name", "minSdk", "Gradle Sync", "Compose BOM", "Kotlin DSL (build.gradle.kts)"]
fil_rouge: "HelloCounter ‚Äî base projet pour l‚ÄôApp Mobile du Blog"
livrable_chapitre: "Gradle Sync OK + app lanc√©e (AVD/device) + `app/build.gradle.kts` propre"
alimentation_prototype: "Projet op√©rationnel pour d√©velopper les √©crans de d√©mo N2"
alimentation_miniprojet: "Base saine pour int√©grer r√©seau, tests et modules N3"
---


# üìò 5.1.2 - Cr√©er un projet
## üìí Glossaire minute
- **Package name** : identifiant unique de l‚Äôapp (ex. `com.ecole.hellocounter`).
- **minSdk** : version Android minimale support√©e (**recommand√©**: `24` ou plus).
- **Gradle Sync** : √©tape o√π Android Studio t√©l√©charge les d√©pendances et configure le build.
- **Empty Compose Activity** : mod√®le de projet pr√™t pour **Jetpack Compose**.

---

## ‚úÖ Objectif
Cr√©er un **nouveau projet Compose** avec un **package propre**, un **minSdk coh√©rent** et un **build qui compile** (Gradle Sync OK), pr√™t √† √™tre ex√©cut√© sur **√©mulateur** ou **appareil**.

---

## üîß Pr√©-requis
- Avoir termin√© **5.1.1** (Android Studio + SDK + AVD/ADB OK).
- Espace disque & connexion r√©seau pour que Gradle r√©cup√®re les d√©pendances.

---

## 1) Nouveau projet (Assistant Android Studio)
1. **New Project ‚Üí Empty Activity (Jetpack Compose)** *(ou ‚ÄúEmpty Compose Activity‚Äù selon version)*.  
2. **Configure your project** :
   - **Name** : `HelloCounter`
   - **Package name** : `com.<organisation>.<app>` ‚Üí ex. `com.acme.hellocounter`
   - **Save location** : dossier sans espace si possible
   - **Language** : **Kotlin**
   - **Minimum SDK** : **API 24: Android 7.0** (ou plus selon vos besoins)
   - **Use Kotlin DSL (build.gradle.kts)** : ‚úÖ (recommand√©)
3. Cliquer **Finish** ‚Üí Android Studio g√©n√®re le projet.

> üí° **Convention package** : tout en **minuscules**, segments courts, stables dans le temps.

---

## 2) V√©rifier JDK & options Compose
- **File ‚Üí Settings ‚Üí Build, Execution, Deployment ‚Üí Gradle**  
  **Gradle JDK** : **17 (Embedded JDK)** recommand√©.  
- Ouvrir `app/build.gradle.kts` et contr√¥ler que **Compose est activ√©** (voir plus bas).

---

## 3) Lancer un **Gradle Sync**
- Bandeau bleu **Sync Now** (ou **File ‚Üí Sync Project with Gradle Files**).  
- Attendre le message **Build successful** en bas.  
- Si √ßa √©choue, voir **D√©pannage**.

---

## 4) V√©rifier / compl√©ter la configuration Gradle

### `settings.gradle.kts` (extrait)
```kts
pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}
rootProject.name = "HelloCounter"
include(":app")
````

### `app/build.gradle.kts` (exemple minimal)

> Utilise **Compose BOM** pour aligner les versions. Remplace `<latest>` par la derni√®re stable si vous n‚Äôutilisez pas un **Version Catalog**.

```kts
plugins {
    id("com.android.application")
    id("org.jetbrains.kotlin.android")
}

android {
    namespace = "com.acme.hellocounter"
    compileSdk = 34

    defaultConfig {
        applicationId = "com.acme.hellocounter"
        minSdk = 24
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"
        vectorDrawables { useSupportLibrary = true }
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }

    buildFeatures {
        compose = true
    }
    composeOptions {
        // Si vous n'avez pas de catalog, d√©commentez et fixez explicitement la version :
        // kotlinCompilerExtensionVersion = "X.Y.Z"
    }
    kotlinOptions {
        jvmTarget = "17"
    }
    packaging {
        resources.excludes += "/META-INF/{AL2.0,LGPL2.1}"
    }
}

dependencies {
    val composeBom = platform("androidx.compose:compose-bom:<latest>") // ex. 2024.xx.xx
    implementation(composeBom)
    androidTestImplementation(composeBom)

    implementation("androidx.activity:activity-compose:1.9.0")
    implementation("androidx.compose.ui:ui")
    implementation("androidx.compose.ui:ui-graphics")
    implementation("androidx.compose.material3:material3")
    implementation("androidx.compose.ui:ui-tooling-preview")

    debugImplementation("androidx.compose.ui:ui-tooling")
    debugImplementation("androidx.compose.ui:ui-test-manifest")

    testImplementation("junit:junit:4.13.2")
    androidTestImplementation("androidx.test.ext:junit:1.1.5")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
    androidTestImplementation("androidx.compose.ui:ui-test-junit4")
}
```

---

## 5) Code Compose de d√©part (v√©rification)

**`MainActivity.kt`**

```kotlin
package com.acme.hellocounter

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.tooling.preview.Preview

class MainActivity : ComponentActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContent { App() }
  }
}

@Composable
fun App() {
  MaterialTheme {
    Greeting()
  }
}

@Composable
fun Greeting() {
  var count by remember { mutableStateOf(0) }
  Button(onClick = { count++ }) { Text("Hello, count = $count") }
}

@Preview(showBackground = true)
@Composable fun PreviewApp() { App() }
```

> ‚ú® Vous voyez `@Preview` dans l‚Äôonglet **Split/Design** ‚Üí cliquez **Build & Refresh** si besoin.

---

## 6) Ex√©cuter l‚Äôapp (√©mulateur ou device)

1. D√©marrer un **AVD** (Virtual Device Manager) **ou** brancher un **t√©l√©phone** (ADB).
2. S√©lectionner la cible dans la barre d‚Äôoutils.
3. Cliquer **Run ‚ñ∂** ‚Üí l‚Äôapp ‚ÄúHello, count = ‚Ä¶‚Äù doit s‚Äôouvrir.

---

## üß™ V√©rifications rapides

* **Gradle Sync** : **OK** sans erreurs.
* **Run** : l‚Äôapp d√©marre sur **AVD** ou **device**.
* **Preview Compose** : visible dans Android Studio.

---

## ü©π D√©pannage (FAQ)

* **Sync √©choue (versions Compose/AGP)** : mettez √† jour **Android Gradle Plugin** et la **Compose BOM** (ou utilisez un **Version Catalog** `libs.versions.toml`).
* **JDK incompatible** : **Gradle JDK = 17** dans Settings.
* **D√©pendances introuvables** : v√©rifiez que `google()` et `mavenCentral()` sont bien dans **tous** les blocs `repositories`.
* **Min SDK trop bas** : Compose moderne requiert **minSdk ‚â• 21** ; **24** est un bon compromis.
* **Preview vide** : nettoyer/rebuilder (**Build ‚Üí Clean Project**, puis **Rebuild Project**), puis **Refresh** dans l‚Äôaper√ßu.

---

## üì¶ Livrables attendus

* Capture **Gradle Sync successful**.
* Capture de l‚Äôapp **en ex√©cution** (AVD ou device).
* `app/build.gradle.kts` propre (Compose activ√© + BOM) et **package** bien nomm√©.

---

## ‚úÖ DoD ‚Äî Definition of Done

* [ ] Projet **Compose** cr√©√© (Empty Compose Activity).
* [ ] **minSdk** choisi (‚â• 24 recommand√©) et **package** conforme.
* [ ] **Gradle Sync** vert, **Run** OK sur AVD/device.
* [ ] **Preview Compose** s‚Äôaffiche.

---

## ‚ö° Cheatsheet

```bash
# Construire l‚ÄôAPK debug en CLI
./gradlew assembleDebug

# Installer sur l‚Äôappareil connect√©
./gradlew installDebug

# Lancer l‚Äôapp (si task disponible) ou cliquer Run dans l‚ÄôIDE
adb shell monkey -p com.acme.hellocounter -c android.intent.category.LAUNCHER 1
```
