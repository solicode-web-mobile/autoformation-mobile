---
title: 2. CrÃ©er un projet
permalink: /mobile-onboarding/creer-projet-compose/
layout: home
nav_order: 2
parent: 5.1. Bien dÃ©marrer le Mobile
---

# ğŸ“˜ 5.1.2 - CrÃ©er un projet
## ğŸ“’ Glossaire minute
- **Package name** : identifiant unique de lâ€™app (ex. `com.ecole.hellocounter`).
- **minSdk** : version Android minimale supportÃ©e (**recommandÃ©**: `24` ou plus).
- **Gradle Sync** : Ã©tape oÃ¹ Android Studio tÃ©lÃ©charge les dÃ©pendances et configure le build.
- **Empty Compose Activity** : modÃ¨le de projet prÃªt pour **Jetpack Compose**.

---

## âœ… Objectif
CrÃ©er un **nouveau projet Compose** avec un **package propre**, un **minSdk cohÃ©rent** et un **build qui compile** (Gradle Sync OK), prÃªt Ã  Ãªtre exÃ©cutÃ© sur **Ã©mulateur** ou **appareil**.

---

## ğŸ”§ PrÃ©-requis
- Avoir terminÃ© **5.1.1** (Android Studio + SDK + AVD/ADB OK).
- Espace disque & connexion rÃ©seau pour que Gradle rÃ©cupÃ¨re les dÃ©pendances.

---

## 1) Nouveau projet (Assistant Android Studio)
1. **New Project â†’ Empty Activity (Jetpack Compose)** *(ou â€œEmpty Compose Activityâ€ selon version)*.  
2. **Configure your project** :
   - **Name** : `HelloCounter`
   - **Package name** : `com.<organisation>.<app>` â†’ ex. `com.acme.hellocounter`
   - **Save location** : dossier sans espace si possible
   - **Language** : **Kotlin**
   - **Minimum SDK** : **API 24: Android 7.0** (ou plus selon vos besoins)
   - **Use Kotlin DSL (build.gradle.kts)** : âœ… (recommandÃ©)
3. Cliquer **Finish** â†’ Android Studio gÃ©nÃ¨re le projet.

> ğŸ’¡ **Convention package** : tout en **minuscules**, segments courts, stables dans le temps.

---

## 2) VÃ©rifier JDK & options Compose
- **File â†’ Settings â†’ Build, Execution, Deployment â†’ Gradle**  
  **Gradle JDK** : **17 (Embedded JDK)** recommandÃ©.  
- Ouvrir `app/build.gradle.kts` et contrÃ´ler que **Compose est activÃ©** (voir plus bas).

---

## 3) Lancer un **Gradle Sync**
- Bandeau bleu **Sync Now** (ou **File â†’ Sync Project with Gradle Files**).  
- Attendre le message **Build successful** en bas.  
- Si Ã§a Ã©choue, voir **DÃ©pannage**.

---

## 4) VÃ©rifier / complÃ©ter la configuration Gradle

### `settings.gradle.kts` (extrait)
```kts
pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}
rootProject.name = "HelloCounter"
include(":app")
````

### `app/build.gradle.kts` (exemple minimal)

> Utilise **Compose BOM** pour aligner les versions. Remplace `<latest>` par la derniÃ¨re stable si vous nâ€™utilisez pas un **Version Catalog**.

```kts
plugins {
    id("com.android.application")
    id("org.jetbrains.kotlin.android")
}

android {
    namespace = "com.acme.hellocounter"
    compileSdk = 34

    defaultConfig {
        applicationId = "com.acme.hellocounter"
        minSdk = 24
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"
        vectorDrawables { useSupportLibrary = true }
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }

    buildFeatures {
        compose = true
    }
    composeOptions {
        // Si vous n'avez pas de catalog, dÃ©commentez et fixez explicitement la version :
        // kotlinCompilerExtensionVersion = "X.Y.Z"
    }
    kotlinOptions {
        jvmTarget = "17"
    }
    packaging {
        resources.excludes += "/META-INF/{AL2.0,LGPL2.1}"
    }
}

dependencies {
    val composeBom = platform("androidx.compose:compose-bom:<latest>") // ex. 2024.xx.xx
    implementation(composeBom)
    androidTestImplementation(composeBom)

    implementation("androidx.activity:activity-compose:1.9.0")
    implementation("androidx.compose.ui:ui")
    implementation("androidx.compose.ui:ui-graphics")
    implementation("androidx.compose.material3:material3")
    implementation("androidx.compose.ui:ui-tooling-preview")

    debugImplementation("androidx.compose.ui:ui-tooling")
    debugImplementation("androidx.compose.ui:ui-test-manifest")

    testImplementation("junit:junit:4.13.2")
    androidTestImplementation("androidx.test.ext:junit:1.1.5")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
    androidTestImplementation("androidx.compose.ui:ui-test-junit4")
}
```

---

## 5) Code Compose de dÃ©part (vÃ©rification)

**`MainActivity.kt`**

```kotlin
package com.acme.hellocounter

import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.tooling.preview.Preview

class MainActivity : ComponentActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContent { App() }
  }
}

@Composable
fun App() {
  MaterialTheme {
    Greeting()
  }
}

@Composable
fun Greeting() {
  var count by remember { mutableStateOf(0) }
  Button(onClick = { count++ }) { Text("Hello, count = $count") }
}

@Preview(showBackground = true)
@Composable fun PreviewApp() { App() }
```

> âœ¨ Vous voyez `@Preview` dans lâ€™onglet **Split/Design** â†’ cliquez **Build & Refresh** si besoin.

---

## 6) ExÃ©cuter lâ€™app (Ã©mulateur ou device)

1. DÃ©marrer un **AVD** (Virtual Device Manager) **ou** brancher un **tÃ©lÃ©phone** (ADB).
2. SÃ©lectionner la cible dans la barre dâ€™outils.
3. Cliquer **Run â–¶** â†’ lâ€™app â€œHello, count = â€¦â€ doit sâ€™ouvrir.

---

## ğŸ§ª VÃ©rifications rapides

* **Gradle Sync** : **OK** sans erreurs.
* **Run** : lâ€™app dÃ©marre sur **AVD** ou **device**.
* **Preview Compose** : visible dans Android Studio.

---

## ğŸ©¹ DÃ©pannage (FAQ)

* **Sync Ã©choue (versions Compose/AGP)** : mettez Ã  jour **Android Gradle Plugin** et la **Compose BOM** (ou utilisez un **Version Catalog** `libs.versions.toml`).
* **JDK incompatible** : **Gradle JDK = 17** dans Settings.
* **DÃ©pendances introuvables** : vÃ©rifiez que `google()` et `mavenCentral()` sont bien dans **tous** les blocs `repositories`.
* **Min SDK trop bas** : Compose moderne requiert **minSdk â‰¥ 21** ; **24** est un bon compromis.
* **Preview vide** : nettoyer/rebuilder (**Build â†’ Clean Project**, puis **Rebuild Project**), puis **Refresh** dans lâ€™aperÃ§u.

---

## ğŸ“¦ Livrables attendus

* Capture **Gradle Sync successful**.
* Capture de lâ€™app **en exÃ©cution** (AVD ou device).
* `app/build.gradle.kts` propre (Compose activÃ© + BOM) et **package** bien nommÃ©.

---

## âœ… DoD â€” Definition of Done

* [ ] Projet **Compose** crÃ©Ã© (Empty Compose Activity).
* [ ] **minSdk** choisi (â‰¥ 24 recommandÃ©) et **package** conforme.
* [ ] **Gradle Sync** vert, **Run** OK sur AVD/device.
* [ ] **Preview Compose** sâ€™affiche.

---

## âš¡ Cheatsheet

```bash
# Construire lâ€™APK debug en CLI
./gradlew assembleDebug

# Installer sur lâ€™appareil connectÃ©
./gradlew installDebug

# Lancer lâ€™app (si task disponible) ou cliquer Run dans lâ€™IDE
adb shell monkey -p com.acme.hellocounter -c android.intent.category.LAUNCHER 1
```
