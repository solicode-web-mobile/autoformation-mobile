---
title: 1. Installation
layout: home
nav_order: 1
parent: 3.1. CRUD avec Laravel
permalink: /laravel-crud/installation/
code: 3.1.1
competence: C3
autoformation: "C3.1"
ua: "3.1.U1"
duree_h: 1.5
objectif: "Initialiser un projet Laravel relié à MySQL et prêt pour le CRUD."
notions_nouvelles: ["Composer", "Artisan", "ENV (.env)", "key:generate", "migrate", "config/app.php", "serve", "storage:link"]
fil_rouge: "Blog Laravel + App Mobile (base de départ)"
livrable_chapitre: "Repo `blog` avec `.env` correct, DB migrée et route `/ping` fonctionnelle"
alimentation_prototype: "Prépare l’environnement pour le prototype Accueil/Liste"
alimentation_miniprojet: "Socle du mini-projet Blog (config & scripts)"
---


# 📘  3.1.1 - Installation & configuration

## 📒 Glossaire minute
- **Composer** : gestionnaire de dépendances PHP.  
- **Artisan** : interface en ligne de commande de Laravel (`php artisan ...`).  
- **.env** : fichier des variables d’environnement (clé d’app, DB, URL, etc.).  
- **Migration** : script de création automatique des tables en base de données.  
- **Serveur intégré** : serveur de test fourni avec Laravel (`php artisan serve`).  

---

## 🎯 Objectif pédagogique
Installer un projet Laravel fonctionnel relié à MySQL, vérifier son exécution locale et préparer un environnement stable pour la suite (CRUD).

---

## ✅ Pré-requis
- PHP ≥ **8.2**
- **Composer** installé  
- **MySQL 8** (ou MariaDB compatible)  
- **Git** installé (optionnel mais recommandé)

---

## 🧭 Étapes guidées

### 🧩 Étape 1 — Créer le projet Laravel

**Explication :**  
Laravel s’installe via Composer, qui télécharge toutes les dépendances nécessaires.  
Cette commande crée un nouveau dossier `blog` contenant le squelette complet du framework.

```bash
# Aller dans ton dossier de travail
cd ~/work

# Créer le projet Laravel
composer create-project laravel/laravel blog

# Entrer dans le dossier
cd blog

# Vérifier la version installée
php artisan --version
````

🧠 *La commande `php artisan` permet d’exécuter les outils intégrés du framework.*

---

### 🧩 Étape 2 — Initialiser l’environnement

**Explication :**
Le fichier `.env` contient la configuration propre à ton poste : base de données, URL, clés, etc.
Tu dois le créer à partir du modèle livré par Laravel, puis générer une clé unique.

```bash
cp .env.example .env
php artisan key:generate
php artisan config:clear
```

🧠 *La clé d’application sécurise les sessions et le chiffrement interne de Laravel.*

---

### 🧩 Étape 3 — Configurer la base de données

**Explication :**
Avant de lancer Laravel, tu dois créer la base MySQL et la relier dans `.env`.

1️⃣ Crée la base depuis ton client MySQL ou la ligne de commande :

```sql
CREATE DATABASE blog CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2️⃣ Ouvre le fichier `.env` et configure les paramètres :

```ini
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=blog
DB_USERNAME=root
DB_PASSWORD=
```

3️⃣ Applique les migrations :

```bash
php artisan migrate
```

🧠 *Les migrations créent automatiquement les tables nécessaires au bon fonctionnement du framework.*

---

### 🧩 Étape 4 — Configurer la langue et la zone horaire

**Explication :**
Pour que Laravel affiche les messages et heures au format local, modifie `config/app.php` :

```php
'timezone' => 'Africa/Casablanca',
'locale'   => 'fr',
'fallback_locale' => 'en',
```

Puis recharge la configuration :

```bash
php artisan config:clear
```

---

### 🧩 Étape 5 — Démarrer le serveur local

**Explication :**
Le serveur intégré à Laravel te permet de tester ton application sans installer Apache ou Nginx.

```bash
php artisan serve
```

➡️ Ouvre le navigateur sur :
[http://localhost:8000](http://localhost:8000)
Tu devrais voir la page d’accueil Laravel.

---

### 🧩 Étape 6 — Créer une route de test `/ping`

**Explication :**
Cette route simple permet de vérifier que tout fonctionne bien (routes, config et serveur).

```php
// routes/web.php
use Illuminate\Support\Facades\Route;

Route::get('/ping', fn() => 'pong');
```

Ouvre ensuite :
➡️ [http://localhost:8000/ping](http://localhost:8000/ping)
Résultat attendu : `pong`

🧠 *C’est ta première “réponse contrôleur” Laravel, générée directement dans la route.*

---

### 🧩 Étape 7 — Ajouter des scripts pratiques dans Composer

**Explication :**
Tu peux ajouter des alias dans `composer.json` pour éviter de retaper les commandes artisan.

```json
"scripts": {
  "serve": "php artisan serve",
  "migrate": "php artisan migrate",
  "fresh": "php artisan migrate:fresh"
}
```

**Exemples d’utilisation :**

```bash
composer run serve
composer run migrate
```

🧠 *Ces scripts simplifient la maintenance et la cohérence entre membres de l’équipe.*

---

### 🧩 Étape 8 — Vérification et erreurs fréquentes

| Problème                                  | Cause probable          | Solution                                                      |
| ----------------------------------------- | ----------------------- | ------------------------------------------------------------- |
| `APP_KEY` manquante                       | `.env` non généré       | `php artisan key:generate`                                    |
| `SQLSTATE[HY000] [1049] Unknown database` | base inexistante        | Crée la DB puis `php artisan migrate`                         |
| `Access denied for user`                  | mauvais identifiants DB | Vérifie `DB_USERNAME` / `DB_PASSWORD`                         |
| Page blanche                              | erreur serveur 500      | Active `APP_DEBUG=true` et vérifie `storage/logs/laravel.log` |

---

## 🧾 Résumé

✅ Projet Laravel installé et fonctionnel.
✅ `.env` et **clé d’application** configurés.
✅ **Base MySQL connectée** et **migrations exécutées**.
✅ Route `/ping` testée avec succès.
✅ Scripts Composer ajoutés pour faciliter la maintenance.

 