---
title: 3.1. CRUD avec Laravel
layout: home
nav_order: 1
has_children: true
parent: 3. Back-end
permalink: /laravel-crud/
---

# 🎓 3.1. CRUD avec Laravel

Cette autoformation vous guide pour **installer un projet Laravel**, comprendre l’**architecture MVC**, puis réaliser un **CRUD complet “Article”** avec **validation** et **pagination**.  
Elle s’appuie sur les acquis de **C3.0 (PHP & POO)** et prépare l’**API v1** de C3.2.

---

## 📒 Glossaire minute
- **Artisan** : CLI Laravel (`php artisan`) pour générer et piloter le projet.  
- **Eloquent** : ORM de Laravel pour manipuler la base via des **modèles**.  
- **Migration / Seeder** : scripts pour **créer** le schéma et **insérer** des données.  
- **Blade** : moteur de **templates** (vues) de Laravel.  
- **FormRequest** : classe dédiée à la **validation** des formulaires.  
- **Flash message** : message **temporaire** (succès/erreur) stocké en session.

---

## 🎯 Objectifs pédagogiques
À la fin de C3.1, vous saurez :
1. **Créer & configurer** un projet Laravel propre (env, app key, locale/timezone).  
2. Mettre en place la **structure MVC** : routes, contrôleurs, **vues Blade** (layout/partials).  
3. Concevoir le **modèle Article** + **migrations/seeders** (réutiliser `articles.seed.json`).  
4. Réaliser un **CRUD** complet avec **FormRequest** (règles + messages), **flash messages** et **pagination**.  
5. Respecter des **conventions de code & routes nommées** pour préparer l’API.

---

## 🧱 Pré-requis & outillage
- **PHP ≥ 8.2**, **Composer**, **MySQL 8+**  
- Bases de **Git** (init, commits)  
- Avoir généré si possible `storage/seeds/articles.seed.json` (C3.0.8)

---

## 🗺️ Plan & UAs couvertes

### UA 3.1.U1 — Mise en route Laravel
- **Chapitre 3.1.1** : **Installation & configuration** (clé d’app, `.env`, timezone/locale)  
- **Chapitre 3.1.2** : **MVC** (routes, contrôleurs, **Blade** : layout/partials)

### UA 3.1.U2 — Formulaires & validation
- **Chapitre 3.1.3** : **Formulaires**, CSRF, **flash messages** (sessions)  
- **Chapitre 3.1.4** : **Validation avec `FormRequest`** (règles, messages, redirections)

### UA 3.1.U3 — Eloquent & CRUD
- **Chapitre 3.1.5** : Modèle **Article** + **migrations/seeders** (import depuis `articles.seed.json`)  
- **Chapitre 3.1.6** : **CRUD** (index/create/edit/delete) + **pagination**

> **Fil rouge** : “**Blog v1**” (Accueil/Liste + CRUD Article minimal).

---

## 🧩 Arborescence cible (à la fin de l’autoformation)
```

blog-solicode/
├─ app/
│  ├─ Http/Controllers/ArticleController.php
│  ├─ Http/Requests/StoreArticleRequest.php
│  └─ Models/Article.php
├─ database/
│  ├─ migrations/xxxx\_xx\_xx\_create\_articles\_table.php
│  └─ seeders/ArticleSeeder.php
├─ resources/views/
│  ├─ layouts/app.blade.php
│  ├─ articles/index.blade.php
│  ├─ articles/create.blade.php
│  ├─ articles/edit.blade.php
│  └─ articles/\_form.blade.php
├─ routes/web.php
└─ storage/seeds/articles.seed.json   (si généré en C3.0)

```

---

## 🧪 Livrables attendus (Niveau 1 — Imitation)
- Projet **Laravel** exécutable (`php artisan serve`) avec **Accueil** et **Liste des articles**.  
- **CRUD Article** fonctionnel : création, édition, suppression, **validation** via `FormRequest`, **flash messages**.  
- **Pagination** sur la liste, **tri simple** optionnel.  
- **Seeder** qui lit `storage/seeds/articles.seed.json` (si présent).  
- **README** clair (prérequis, commandes, comptes de test si besoin).

---

## ✅ Critères de réussite
- Routes **nommées** (`articles.index`, `articles.create`, `articles.store`, …) et **contrôleur resource**.  
- Règles de **validation** correctes (ex. `title` requis, `views` entier ≥ 0).  
- **Messages d’erreur** affichés au bon endroit + **old input** préservé.  
- **Layout Blade** factorisé (header/nav/footer) + partial `_form.blade.php`.  
- **Migration/Seeder** rejouables sans casser la base (idempotence raisonnable).

---

## ⚠️ Erreurs fréquentes
- Oublier `php artisan key:generate` après la copie du `.env`.  
- Mélanger **logique métier** et **vue** (mettre les calculs côté contrôleur/modèle).  
- Ne pas gérer les **messages d’erreur** côté formulaire (affichage `@error`).  
- Seeder qui **écrase** systématiquement tout au lieu d’**upserter** (`updateOrCreate`).

---

## 🔗 Suite du parcours
- **C3.2 — API REST & Normalisation** : exposer `/api/articles` (liste/détail) avec **Resource/Collection**, **pagination** & **filtres**.  
- **C3.3 — Sécurité minimale, Auth & erreurs** : **middlewares**, **policies**, **handler** d’exceptions & **logs**.

> Prêt ? Commencez par **3.1.1 — Installation & configuration**, puis enchaînez sur **3.1.2 — MVC (routes/contrôleurs/Blade)** avant d’attaquer **Eloquent + CRUD**.
