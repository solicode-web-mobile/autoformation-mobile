---
title: 5. Cycle Â« issue â†’ feature â†’ PR Â» 
permalink: /git-gitflow/cycle-issue-feature-pr/
layout: home
nav_order: 5
parent: 4.1. Git & GitFlow
---

# ğŸ“˜ 4.1.5 - Cycle Â« issue â†’ feature â†’ PR Â» 

## ğŸ“’ Glossaire minute
- **Issue** : ticket dÃ©crivant un besoin (User Story, bug, tÃ¢che).
- **Feature branch** : branche dÃ©diÃ©e Ã  lâ€™issue (dÃ©veloppement focalisÃ©).
- **PR / MR** : Pull/Merge Request pour relire et fusionner la feature.
- **Closes #123** : mot-clÃ© qui **ferme lâ€™issue** Ã  la fusion de la PR.

---

## âœ… Objectif
Appliquer un **flux court et lisible** : crÃ©er une issue claire, dÃ©velopper sur une **feature branch** avec **petits commits** liÃ©s Ã  lâ€™issue, puis ouvrir une **PR** propre (captures, checklist, CI verte) jusquâ€™au **merge (squash)**.

---

## ğŸ”§ PrÃ©-requis
- RÃ¨gles de branches (voir **4.1.4**).
- Conventions de commits & outils lint/format (voir **4.1.2**).
- Scripts & doc dâ€™installation (voir **4.1.3**).

---

## 1) CrÃ©er lâ€™issue (User Story + critÃ¨res)
**Gabarit recommandÃ©**
```md
## Contexte
Pourquoi on fait Ã§a ? (problÃ¨me, valeur)

## User Story
En tant que <rÃ´le>, je veux <action> afin de <bÃ©nÃ©fice>.

## CritÃ¨res dâ€™acceptation (Given/When/Then)
- Given ...
- When ...
- Then ...

## PortÃ©e
- In scope : ...
- Out of scope : ...

## Notes techniques
SchÃ©ma, endpoints, migrations, perfs, risquesâ€¦

## Tests
Cas Ã  couvrir (unitaires, HTTP, e2e si besoin)

## PiÃ¨ces jointes
Captures / wireframes / liens
````

**(Optionnel) via GitHub CLI**

```bash
gh issue create --title "Recherche: filtres q/tag/sort" --body-file issue.md --label feature
```

---

## 2) CrÃ©er la feature branch (liÃ©e Ã  lâ€™issue)

> Nommage : `feature/<id>-<slug>`

```bash
git checkout -b feature/321-recherche-filtrage develop
```

> Ajoute la rÃ©fÃ©rence de lâ€™issue dans la **description de la branche** (sur la plateforme) ou dans la PR plus tard.

---

## 3) Commits **petits et frÃ©quents** (liÃ©s Ã  lâ€™issue)

* Taille cible : **â‰¤ 100â€“150 lignes** modifiÃ©es par commit/PR si possible.
* 1 commit = 1 **intention** (ajout, fix, refactor).
* Respecter **Conventional Commits** et **lier lâ€™issue** :

  * Dans le **corps** du commit : `Refs #321`
  * Ou dans le **message** de PR : `Closes #321`

**Exemples**

```
feat(search): ajouter filtres q, tag, sort  (#321)
fix(search): corriger tri dÃ©croissant par dÃ©faut  (#321)
refactor(api): extraire service FilterBuilder  (#321)
test(http): couvrir 200/400 pour /articles?tag=  (#321)
```

**Rester alignÃ© avec develop**

```bash
git fetch origin
git pull --rebase origin develop
# rÃ©soudre conflits puis:
git push --force-with-lease
```

---

## 4) Ouvrir la PR â†’ `develop` (propre & vÃ©rifiable)

**Titre PR**

```
feat(search): filtres q/tag/sort (Closes #321)
```

**PR template (extrait)**

```md
## Objet
Courte description (quoi/pourquoi)

## Issue liÃ©e
Closes #321

## Captures / DÃ©mo
Avant/AprÃ¨s, GIF court si UI

## Checklists
- [ ] Lint/format OK (PHP/JS)
- [ ] Tests passent en local
- [ ] Doc/README/MIGRATIONS mis Ã  jour si besoin
- [ ] Impacts perfs/UX Ã©valuÃ©s

## Tests
Cas couverts (unitaires/HTTP/e2e)
```

**RÃ¨gles**

* CI **verte** (lint + tests).
* **Squash merge** par dÃ©faut (1 PR = 1 commit sur lâ€™historique).
* **Review** : au moins **1 approbation** + corrections demandÃ©es traitÃ©es.
* Ajouter **captures**/logs de test quand câ€™est pertinent.

---

## 5) Merge & nettoyage

1. **Squash & merge** vers `develop`.
2. La PR **ferme** automatiquement lâ€™issue via `Closes #321`.
3. Supprimer la **branche distante**.
4. (Si release en cours) **back-merge** aprÃ¨s livraison (voir 4.1.4).

---

## ğŸ“¦ Livrables attendus

* Issue complÃ¨te (User Story, critÃ¨res, notes techniques).
* Feature branch **nommÃ©e correctement**.
* Commits **petits**, **conventionnels**, **rÃ©fÃ©rencÃ©s** Ã  lâ€™issue.
* PR **propre** avec captures, checklist, CI verte.
* Issue **fermÃ©e** Ã  la fusion.

---

## âœ… DoD â€” Definition of Done

* [ ] Tous les commits liÃ©s Ã  **#ID** de lâ€™issue.
* [ ] PR **feature â†’ develop** en **squash**, **CI verte**.
* [ ] CritÃ¨res dâ€™acceptation **validÃ©s** (captures/tests).
* [ ] Branche supprimÃ©e, issue **fermÃ©e** automatiquement.

---

## ğŸ©¹ Erreurs frÃ©quentes & correctifs

* âŒ PR trop grosse â†’ **DÃ©couper** en plusieurs issues/PR thÃ©matiques.
* âŒ Commits â€œmiscâ€ â†’ reformuler en **Conventional Commits**.
* âŒ Pas de lien issue â†’ ajouter `Closes #ID` dans la PR (ou `Refs #ID` dans commits).
* âŒ Conflits tardifs â†’ **rebase** rÃ©gulier sur `develop`.
* âŒ CI rouge â†’ corriger, relancer, documenter la cause.

---

## âš¡ Cheatsheet

```bash
# Issue -> feature
gh issue view 321
git checkout -b feature/321-recherche-filtrage develop

# Dev avec petits commits
git commit -m "feat(search): ajouter filtres q/tag/sort (#321)"
git commit -m "test(http): couvrir /articles?tag= (#321)"

# Rester Ã  jour
git pull --rebase origin develop
git push --force-with-lease

# Ouvrir PR
gh pr create --base develop --title "feat(search): filtres q/tag/sort (Closes #321)" --body-file PR.md

# AprÃ¨s review
gh pr merge --squash

# Nettoyage (si non auto)
git branch -d feature/321-recherche-filtrage
git push origin :feature/321-recherche-filtrage
```

