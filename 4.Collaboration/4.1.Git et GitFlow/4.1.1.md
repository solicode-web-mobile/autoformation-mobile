---
title: 1. Dépôt
layout: home
nav_order: 1
parent: 4.1. Git & GitFlow
permalink: /git-gitflow/initialiser-depot/
code: 4.1.1
competence: C4
autoformation: "C4.1"
ua: "4.1.U1"
duree_h: 1.5
objectif: "Initialiser un dépôt propre (README, .gitignore, env.example, licence) et pousser sur un remote."
notions_nouvelles: ["Dépôt (repo)", "README.md", ".gitignore", "env.example", "LICENSE", "Remote"]
fil_rouge: "Dépôt Blog Laravel + App Mobile : base saine et clonable"
livrable_chapitre: "Repo initial avec README, .gitignore PHP/Laravel, env.example, LICENSE, premier commit"
alimentation_prototype: "Projet versionné prêt à installer/lancer pour N2"
alimentation_miniprojet: "Socle standardisé de collaboration et traçabilité pour N3"
---

# 📘 4.1.1 - Initialiser le dépôt

## 📒 Glossaire minute
- **Dépôt (repo)** : espace versionné contenant ton code et son historique.
- **README.md** : page d’accueil du projet (quoi, comment démarrer).
- **.gitignore** : liste des fichiers/dossiers à **ne pas** versionner.
- **env.example** : gabarit des variables d’environnement **sans secrets**.
- **LICENSE** : licence d’utilisation/distribution du code.

---

## ✅ Objectif
Créer un dépôt **propre et standardisé** avec un premier commit et un *remote* prêt à pousser.

---

## 🔧 Pré-requis
- Git installé (`git --version`)
- Compte GitHub/GitLab/Bitbucket
- SSH ou HTTPS configuré (au choix)

---

## 🚀 Étapes

### 1) Créer le projet et initialiser Git

```bash
mkdir my-project && cd my-project
git init
git checkout -b main
git status
```

### 2) Ajouter un `.gitignore` adapté (Laravel / PHP)

> Copie/colle ce contenu dans `.gitignore`.

```
# Dépendances & artefacts
/vendor/
/node_modules/
/bootstrap/cache/
/public/storage
/public/hot
/public/build
/.vite
/.idea/
/.vscode/

# Environnements & clés
.env
.env.*.local
.phpunit.result.cache
.php-cs-fixer.cache
/storage/*.key

# Cache & logs
/storage/logs/*
/storage/framework/cache/*
/storage/framework/sessions/*
/storage/framework/views/*
/storage/framework/testing/*

# Systèmes
.DS_Store
Thumbs.db

# Divers
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
```

### 3) Créer `env.example` (sans secrets)

> **Ne jamais** committer `.env`. On fournit un **exemple** minimal.

```ini
APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

LOG_CHANNEL=stack
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=my_project
DB_USERNAME=root
DB_PASSWORD=

CACHE_DRIVER=file
QUEUE_CONNECTION=sync
SESSION_DRIVER=file
SESSION_LIFETIME=120

MAIL_MAILER=log
```

### 4) Créer un `README.md` clair

````md
# My Project

Courte description du projet (objectif, contexte).

## 🚀 Démarrage rapide
```bash
cp .env.example .env
composer install
php artisan key:generate
php artisan migrate
php artisan serve
````

## 🧱 Stack

* Laravel 11, PHP 8.2+, MySQL 8, Node 20

## 📦 Scripts utiles

* `composer test` — lancer les tests
* `npm run dev` — build dev
* `npm run build` — build production

## 🌿 Branches

* `main` (stable), `develop` (intégration), `feature/*`, `hotfix/*`

## 🔐 Variables d’env

Voir `env.example`. **Ne pas** committer `.env`.

## 📄 Licence

Voir `LICENSE`.

````

### 5) Ajouter une licence (`LICENSE`)
> Exemple **MIT** (remplace `[year]` et `[fullname]`).

```text
MIT License

Copyright (c) [year] [fullname]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

[... texte MIT complet ...]
````

### 6) Premier commit

```bash
git add .
git commit -m "chore: init repo with README, gitignore, env.example, LICENSE"
```

### 7) Créer le dépôt distant et pousser

> Via l’interface (GitHub/GitLab) **ou** la CLI GitHub (`gh`).

```bash
# Avec GitHub CLI (optionnel)
# gh repo create my-username/my-project --public --source=. --remote=origin --push

# Ou manuellement :
git remote add origin git@github.com:my-username/my-project.git
git push -u origin main
```

---

## 📦 Livrables attendus

* `README.md` (démarrage, scripts, branches)
* `.gitignore` (exclusions pertinentes)
* `env.example` (sans secrets)
* `LICENSE` (choisie et remplie)

---

## 🧭 DoD — Definition of Done

* [ ] **main** existe, premier commit **propre**
* [ ] Aucune fuite de secrets (`.env` ignoré)
* [ ] Projet clonable & exécutable en suivant **README**
* [ ] Licence lisible et valide

---

## 🩹 Erreurs fréquentes & correctifs

* ❌ `.env` committé → **Supprime** du Git, **rotate** les clés, ajoute au `.gitignore`.
* ❌ Branch **master** par défaut → `git branch -M main`.
* ❌ README vide → ajoute **démarrage rapide** et **scripts**.
* ❌ Licence manquante → ajoute `LICENSE` (MIT, Apache-2.0, GPL-3.0, …).

---

## 💡 Astuce (création rapide des fichiers)

```bash
printf "# My Project\n\n" > README.md
printf "APP_NAME=Laravel\nAPP_ENV=local\n" > env.example
printf "MIT License\n\n" > LICENSE
```

