---
title: 6. DÃ©clinaison en tÃ¢ches
permalink: /agile-scrum/declinaison-taches/
layout: home
nav_order: 6
parent: 4.2. Agile & Scrum
---

# ğŸ“˜ 4.2.6 - DÃ©clinaison en tÃ¢ches

## ğŸ“’ Glossaire minute
- **TÃ¢che technique** : action concrÃ¨te, **â‰¤ 0,5 j**, menant Ã  un rÃ©sultat vÃ©rifiable.
- **TraÃ§abilitÃ©** : lien **Story â†” TÃ¢ches â†” CritÃ¨res (GWT) â†” Tests/PR**.
- **WBS** (*Work Breakdown Structure*) : dÃ©coupage hiÃ©rarchique dâ€™un travail.

---

## âœ… Objectif du chapitre
Transformer une **User Story** (S/M/L) en un **lot de tÃ¢ches courtes, indÃ©pendantes et testables**, chacune **liÃ©e** Ã  au moins **un critÃ¨re GWT**, avec une **responsabilitÃ©** claire et une **preuve** (test, capture, log).

---

## ğŸ”§ PrÃ©-requis
- Story **INVEST** + **GWT** rÃ©digÃ©s (voir 4.2.4).
- Sprint Goal, **capacitÃ©** et **WIP** dÃ©finis (voir 4.2.3).

---

## 1) RÃ¨gles de **dÃ©coupage**
- Taille **cible** : **â‰¤ 0,5 jour** (4h max).  
- **1 tÃ¢che = 1 intention** (API, UI, test, doc, migrationâ€¦).  
- **Lien GWT** : chaque tÃ¢che **rÃ©fÃ©rence** 1+ scÃ©narios Given/When/Then.  
- **Preuve** : rÃ©sultat **observables** (tests verts, capture UI, curl, log).  
- **PrioritÃ©** : faire passer dâ€™abord ce qui **valide un GWT** (cas heureux), puis les cas dâ€™erreur/edge.

**Anti-patterns**
- Â« TÃ¢che fourre-tout Â» (touchant 10 fichiers sans focus).  
- Â« TÃ¢che invisible Â» (aucune preuve/critÃ¨re liÃ©).  
- DÃ©coupage par **couches** uniquement (ex. â€œbackendâ€, â€œfrontendâ€) sans lien aux **critÃ¨res**.

---

## 2) Types de tÃ¢ches (checklist)
- **API / ContrÃ´leur / Service**  
- **Validation** (FormRequest, rÃ¨gles, messages)  
- **Policy / Auth / SÃ©curitÃ©**  
- **RequÃªte DB / Migration / Index**  
- **UI** (form, Ã©tat vide, loading, messages)  
- **Tests** (unit, HTTP/Feature, e2e)  
- **Docs** (README, API examples, changelog)  
- **ObservabilitÃ©** (logs, mÃ©triques)

> ğŸ¯ Objectif : couvrir **fonctionnel + non-fonctionnel** pertinent (perfs, sÃ©curitÃ©, accessibilitÃ©).

---

## 3) ModÃ¨le de tÃ¢che (gabarit)

```md
### [Task] <verbe dâ€™action court>
- **But** : â€¦
- **Lien Story** : #<ID> (Closes/Refs si PR)
- **CritÃ¨res liÃ©s** : GWT-1, GWT-2
- **Sortie/Preuve** : test vert / capture / curl / log
- **Estimation** : â‰¤ 0,5 j
- **Owner** : @username
````

---

## 4) Exemple complet (Story â†’ TÃ¢ches â†’ CritÃ¨res)

**Story**
Â« En tant que lecteur, je veux **filtrer les articles par tag** afin de **trouver vite**. Â»

**CritÃ¨res (GWT)**

* **GWT-1** â€” Given des articles taggÃ©s, When je choisis `#PHP`, Then seuls #PHP sâ€™affichent **(<1s)**.
* **GWT-2** â€” Given aucun article `#Go`, When je filtre `#Go`, Then **message â€œAucun rÃ©sultatâ€**.

**TÃ¢ches (YAML)**

```yaml
story: #321 Filtrer par tag
tasks:
  - id: T1
    title: "API: GET /articles?tag={slug}"
    links:
      gwt: [GWT-1, GWT-2]
      pr: []
    proof: "curl + tests HTTP 200/400; temps <1s en local"
  - id: T2
    title: "Validation: slug tag + erreurs 400"
    links:
      gwt: [GWT-2]
    proof: "tests 400 + message dâ€™erreur JSON"
  - id: T3
    title: "UI: select tags + Ã©tat loading + empty state"
    links:
      gwt: [GWT-1, GWT-2]
    proof: "captures avant/aprÃ¨s; GIF 5s"
  - id: T4
    title: "Tests HTTP: cas heureux + vide"
    links:
      gwt: [GWT-1, GWT-2]
    proof: "pest: tests verts"
  - id: T5
    title: "Docs: README paramÃ¨tre ?tag= + exemple curl"
    links:
      gwt: [GWT-1]
    proof: "diff README"
```

**Matrice TÃ¢che â†” CritÃ¨re**

| TÃ¢che         | GWT-1 | GWT-2 |
| ------------- | :---: | :---: |
| T1 API        |   âœ…   |   âœ…   |
| T2 Validation |       |   âœ…   |
| T3 UI         |   âœ…   |   âœ…   |
| T4 Tests      |   âœ…   |   âœ…   |
| T5 Docs       |   âœ…   |       |

---

## 5) Exemple Laravel (squelettes rapides)

**Route + Controller**

```php
// routes/api.php
Route::get('/articles', [ArticleController::class, 'index']);

// app/Http/Controllers/ArticleController.php
public function index(Request $request)
{
    $request->validate(['tag' => ['nullable','alpha_dash']]);

    $q = Article::query()
        ->when($request->filled('tag'), fn($qb) =>
            $qb->whereHas('tags', fn($t) => $t->where('slug', $request->tag)))
        ->latest()
        ->paginate(10);

    return ArticleResource::collection($q);
}
```

**Test HTTP (Pest)**

```php
it('filtre par tag existant', function () {
    $php = Tag::factory()->create(['slug' => 'php']);
    Article::factory()->count(3)->hasAttached($php)->create();
    Article::factory()->count(2)->create(); // autres

    $res = $this->getJson('/api/articles?tag=php')
        ->assertOk()
        ->json('data');

    expect($res)->toHaveCount(3);
});

it('retourne vide pour tag inexistant', function () {
    Article::factory()->count(2)->create();

    $this->getJson('/api/articles?tag=go')
        ->assertOk()
        ->assertJsonPath('data', []);
});
```

**README (extrait preuve)**

````md
### Filtrage par tag
```bash
curl "http://localhost/api/articles?tag=php"
# => 200 + items taggÃ©s 'php'
````

````

---

## 6) Orchestration & dÃ©pendances
- **Ordre suggÃ©rÃ©** : API â†’ Validation â†’ Tests â†’ UI â†’ Docs.  
- **ParallÃ©lisable** : UI peut dÃ©marrer sur **mock** (JSON exemple).  
- **Bloquages** : noter en Daily ; si > 24h, **rÃ©allouer** / **redÃ©couper**.

---

## 7) Definition of Done (TÃ¢che & Story)

**DoD TÃ¢che**
- [ ] Lien **GWT** indiquÃ©  
- [ ] **Preuve** attachÃ©e (test/capture)  
- [ ] **Lint/format** OK  
- [ ] Impact **docs/logs** traitÃ©

**DoD Story** *(rappel)*  
- [ ] Tous les GWT **validÃ©s** en Review  
- [ ] PR **squash** mergÃ©e, branche supprimÃ©e  
- [ ] Board **Done**, notes Review/RÃ©tro Ã  jour

---

## 8) Board & WIP (exÃ©cution)
- Colonne **Review â‰¤ 2** : prioritÃ© **finir** avant **commencer**.  
- **Pull, pas push** : on prend depuis la colonne prÃ©cÃ©dente.  
- Chaque tÃ¢che a **1 owner** clair ; binÃ´mage possible si < 2 items â€œIn-Progressâ€.

---

## 9) Erreurs frÃ©quentes & correctifs
- âŒ TÃ¢ches > 0,5 j â†’ **redÃ©couper** (UI sÃ©parÃ©e des tests, etc.).  
- âŒ Pas de preuves â†’ exiger **tests/captures** dans la PR.  
- âŒ Pas de lien aux critÃ¨res â†’ relier chaque tÃ¢che Ã  **GWT-X**.  
- âŒ Commencer partout â†’ **WIP limitÃ©**, focus Review/finish.  
- âŒ Refacto massif dans la mÃªme PR â†’ isoler en PR dÃ©diÃ©e.

---

## âš¡ Cheatsheet
```text
1) Lister critÃ¨res (GWT) â†’ 2) DÃ©couper en tÃ¢ches â‰¤ 0,5 j
3) Lier chaque tÃ¢che Ã  1+ GWT â†’ 4) DÃ©finir preuve (test/capture)
5) Ordonner (APIâ†’Testsâ†’UIâ†’Docs) â†’ 6) Respecter WIP & DoD
````

## ğŸ“¦ Livrables attendus

* Liste **tÃ¢ches â‰¤ 0,5 j** liÃ©es aux **GWT**.
* **Preuves** prÃªtes (tests, captures, curl).
* Matrice **TÃ¢che â†” CritÃ¨re** (table ou YAML) visible dans la PR/README.

