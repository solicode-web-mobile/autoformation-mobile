---
title: 4. Stories & GWT
layout: home
nav_order: 4
parent: 4.2. Agile & Scrum
permalink: /agile-scrum/stories-gwt/
code: 4.2.4
competence: C4
autoformation: "C4.2"
ua: "4.2.U2"
duree_h: 1.5
objectif: "RÃ©diger des stories INVEST et des critÃ¨res Given/When/Then testables."
notions_nouvelles: ["User Story", "INVEST", "GWT (Given/When/Then)", "Acceptance Criteria", "Slicing"]
fil_rouge: "Blog Laravel + App Mobile (backlog testable)"
livrable_chapitre: "3 stories INVEST avec 2â€“5 GWT chacune + 1 story dÃ©coupÃ©e (slicing)"
alimentation_prototype: "Aligne dev & tests du prototype N2 sur des critÃ¨res clairs"
alimentation_miniprojet: "Backlog testable et dÃ©coupÃ© pour N3"
---


# ğŸ“˜ 4.2.4 - User stories & critÃ¨res

## ğŸ“’ Glossaire minute
- **User Story** : besoin utilisateur **court** et **orientÃ© valeur**.
- **INVEST** : *Independent, Negotiable, Valuable, Estimable, Small, Testable*.
- **GWT** : critÃ¨res dâ€™acceptation **Given / When / Then** (Gherkin simple).
- **Acceptance Criteria** : conditions vÃ©rifiables pour **accepter** la story.

---

## âœ… Objectif du chapitre
Savoir rÃ©diger des **User Stories utiles** (INVEST) et des **critÃ¨res GWT** clairs qui guident le dev, le test et la **Review**.

---

## ğŸ”§ PrÃ©-requis
- Backlog priorisÃ© par le PO (voir **4.2.2**).
- Cadence de sprint et cÃ©rÃ©monies connues (voir **4.2.1**, **4.2.3**).

---

## 1) âœï¸ Forme dâ€™une User Story

**Gabarit**
```

En tant que \<persona/role>,
je veux \<action/capacitÃ©>,
afin de \<bÃ©nÃ©fice/valeur mesurable>.

````

**Exemples (bons)**
- Â« En tant que **lecteur**, je veux **filtrer les articles par tag**, afin de **trouver un sujet en < 5 s**. Â»
- Â« En tant quâ€™**admin**, je veux **bloquer un compte**, afin de **prÃ©venir les abus**. Â»

**Anti-exemples**
- Â« Faire le filtre Â» (pas de persona, pas de valeur).  
- Â« AmÃ©liorer la performance Â» (vague, non mesurable).

---

## 2) âœ… INVEST â€” Check rapide
- **I**ndÃ©pendante : peut Ãªtre livrÃ©e seule.  
- **N**Ã©gociable : solution ouverte (pas de design imposÃ© dans la Story).  
- **V**aleur : bÃ©nÃ©fice utilisateur explicite.  
- **E**stimable : assez dâ€™infos pour estimer.  
- **S**mall : **S/M** pour 1 sprint (sinon dÃ©couper).  
- **T**estable : GWT possibles.

---

## 3) ğŸ§ª CritÃ¨res dâ€™acceptation â€” GWT

**Gabarit minimal (Gherkin simple)**
```gherkin
Given <contexte initial>
When <action de lâ€™utilisateur ou de lâ€™API>
Then <rÃ©sultat observable et testable>
````

**RÃ¨gles**

* 2 Ã  5 scÃ©narios **maximum** (couvrir cas heureux + 1 erreur).
* Pas de dÃ©tails dâ€™implÃ©mentation (**quoi** plus que **comment**).
* Ã‰viter les termes flous (Â« rapide Â», Â« facile Â») â†’ **mesurer**.

**Exemple â€” Filtrer par tag**

```gherkin
Scenario: Filtrer par un tag existant
  Given des articles taggÃ©s #PHP et #JS
  When je sÃ©lectionne le tag "PHP"
  Then seuls les articles #PHP s'affichent en < 1 s
  And le compteur indique le nombre de rÃ©sultats

Scenario: Tag inexistant
  Given aucun article avec le tag "Go"
  When je sÃ©lectionne le tag "Go"
  Then la liste est vide
  And un message "Aucun rÃ©sultat" s'affiche
```

---

## 4) ğŸ° DÃ©couper une story trop grosse (slicing)

Story trop large : Â« En tant que lecteur, je veux **rechercher** des articles (texte, tags, tri, pagination, favorisâ€¦). Â»

**Slicing possible**

* **F1** : Filtrer par **tag** (UI + API)
* **F2** : Champ **q** (texte) sur **titre** uniquement
* **F3** : **Tri** (date desc par dÃ©faut)
* **F4** : **Pagination** (10/pg)
* **F5** : **Ã‰tat vide** (message, CTA)

Chaque slice devient une **story S/M** avec ses **GWT**.

---

## 5) ğŸ§© Lier Story â†” TÃ¢ches â†” Tests

* Story = **besoin** (PO)
* TÃ¢ches = **technique** (Ã©quipe) : API, UI, tests, docs
* Tests = **preuve** (dev/test) : unitaires, HTTP/e2e, captures en Review

**Exemple (YAML)**

```yaml
story: "En tant que lecteur, filtrer par tag pour trouver vite."
criteria:
  - "Given articles taggÃ©s, When je choisis #PHP, Then seuls #PHP s'affichent"
  - "Given liste vide pour #Go, When je filtre Go, Then message 'Aucun rÃ©sultat'"
tasks:
  - "API GET /articles?tag={slug}"
  - "UI select + skeleton loading"
  - "Tests HTTP 200/400 + cas vide"
  - "Docs README: paramÃ¨tre tag"
```

---

## 6) ğŸ“ Templates utiles

**Issue (Story)**

```md
## Story
En tant que <rÃ´le>, je veux <action>, afin de <bÃ©nÃ©fice>.

## CritÃ¨res (GWT)
- Given ...
- When ...
- Then ...

## Contexte/Contraintes
[maquettes, rÃ¨gles mÃ©tiers, perfs, i18n, accessibilitÃ©]

## Notes techniques (optionnel)
[schÃ©mas API, migrations, risques]

## DoR (Ready)
- [ ] Compris
- [ ] GWT rÃ©digÃ©s
- [ ] Maquettes/API refs
- [ ] Taille S/M

## Estimation
S / M / L (ou 1â€“3 pts)
```

**PR â€” rappel acceptance**

```md
## Tests & Acceptation
- [ ] Cas heureux conforme aux GWT
- [ ] Cas dâ€™erreur couvert
- [ ] Captures / GIF â‰¤10s
```

---

## 7) ğŸ” Exemples supplÃ©mentaires (bons vs moins bons)

**Moins bon**

```
En tant qu'utilisateur, je veux une recherche rapide.
```

**Meilleur**

```
En tant que lecteur, je veux rechercher par titre (champ q),
afin de trouver un article en < 5 s.
```

**GWT**

```gherkin
Given 100 articles dont 3 avec "Laravel"
When je saisis "Laravel"
Then je vois ces 3 rÃ©sultats en < 1 s
```

---

## ğŸ§± CritÃ¨res non-fonctionnels (Ã  intÃ©grer si pertinents)

* **Perf** : temps de rÃ©ponse < X s, taille rÃ©ponse < Y Ko.
* **SÃ©curitÃ©** : rÃ´les/politiques, rate limit, validation entrÃ©e.
* **AccessibilitÃ©** : focus visible, labels, contraste.
* **i18n** : textes via fichiers de langue.

> Les non-fonctionnels doivent Ãªtre **mesurables** et **testables**.

---

## ğŸ—ºï¸ Mini-diagramme (vue Story â†’ GWT â†’ Tests)

```mermaid
flowchart LR
  S[User Story] --> C[CritÃ¨res GWT]
  C --> T[Tests (unit/HTTP/e2e)]
  T --> R[Review (dÃ©mo GWT)]
```

---

## ğŸ“¦ Livrables attendus

* Stories **INVEST** (S/M) avec **GWT** clairs.
* Issues **remplies** avec template.
* Exemple **tests** alignÃ©s avec GWT (au moins 1 succÃ¨s + 1 erreur).

---

## âœ… DoD â€” Definition of Done (chapitre)

* [ ] 3 stories rÃ©digÃ©es **format Story** + **GWT**.
* [ ] 1 story dÃ©coupÃ©e (slicing) en 2â€“3 sous-stories S/M.
* [ ] Lien **PR â†” Issue** (Closes #ID) et **tests** en place.

---

## ğŸ©¹ Erreurs frÃ©quentes & correctifs

* âŒ Story solution (Â« ajouter un select Â») â†’ revenir au **besoin**.
* âŒ GWT flous (Â« rapide Â», Â« simple Â») â†’ ajouter **seuils** mesurables.
* âŒ Trop de critÃ¨res (10+) â†’ **rÃ©duire** (2â€“5) + tests ciblÃ©s.
* âŒ Story L/XL â†’ **slicing** par parcours/Ã©tapes.
* âŒ Pas de cas dâ€™erreur â†’ ajouter **au moins 1** scenario nÃ©gatif.