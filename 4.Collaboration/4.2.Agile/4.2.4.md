---
title: 4. Stories & GWT
layout: home
nav_order: 4
parent: 4.2. Agile & Scrum
permalink: /agile-scrum/stories-gwt/
code: 4.2.4
competence: C4
autoformation: "C4.2"
ua: "4.2.U2"
duree_h: 1.5
objectif: "Rédiger des stories INVEST et des critères Given/When/Then testables."
notions_nouvelles: ["User Story", "INVEST", "GWT (Given/When/Then)", "Acceptance Criteria", "Slicing"]
fil_rouge: "Blog Laravel + App Mobile (backlog testable)"
livrable_chapitre: "3 stories INVEST avec 2–5 GWT chacune + 1 story découpée (slicing)"
alimentation_prototype: "Aligne dev & tests du prototype N2 sur des critères clairs"
alimentation_miniprojet: "Backlog testable et découpé pour N3"
---


# 📘 4.2.4 - User stories & critères

## 📒 Glossaire minute
- **User Story** : besoin utilisateur **court** et **orienté valeur**.
- **INVEST** : *Independent, Negotiable, Valuable, Estimable, Small, Testable*.
- **GWT** : critères d’acceptation **Given / When / Then** (Gherkin simple).
- **Acceptance Criteria** : conditions vérifiables pour **accepter** la story.

---

## ✅ Objectif du chapitre
Savoir rédiger des **User Stories utiles** (INVEST) et des **critères GWT** clairs qui guident le dev, le test et la **Review**.

---

## 🔧 Pré-requis
- Backlog priorisé par le PO (voir **4.2.2**).
- Cadence de sprint et cérémonies connues (voir **4.2.1**, **4.2.3**).

---

## 1) ✍️ Forme d’une User Story

**Gabarit**
```

En tant que \<persona/role>,
je veux \<action/capacité>,
afin de \<bénéfice/valeur mesurable>.

````

**Exemples (bons)**
- « En tant que **lecteur**, je veux **filtrer les articles par tag**, afin de **trouver un sujet en < 5 s**. »
- « En tant qu’**admin**, je veux **bloquer un compte**, afin de **prévenir les abus**. »

**Anti-exemples**
- « Faire le filtre » (pas de persona, pas de valeur).  
- « Améliorer la performance » (vague, non mesurable).

---

## 2) ✅ INVEST — Check rapide
- **I**ndépendante : peut être livrée seule.  
- **N**égociable : solution ouverte (pas de design imposé dans la Story).  
- **V**aleur : bénéfice utilisateur explicite.  
- **E**stimable : assez d’infos pour estimer.  
- **S**mall : **S/M** pour 1 sprint (sinon découper).  
- **T**estable : GWT possibles.

---

## 3) 🧪 Critères d’acceptation — GWT

**Gabarit minimal (Gherkin simple)**
```gherkin
Given <contexte initial>
When <action de l’utilisateur ou de l’API>
Then <résultat observable et testable>
````

**Règles**

* 2 à 5 scénarios **maximum** (couvrir cas heureux + 1 erreur).
* Pas de détails d’implémentation (**quoi** plus que **comment**).
* Éviter les termes flous (« rapide », « facile ») → **mesurer**.

**Exemple — Filtrer par tag**

```gherkin
Scenario: Filtrer par un tag existant
  Given des articles taggés #PHP et #JS
  When je sélectionne le tag "PHP"
  Then seuls les articles #PHP s'affichent en < 1 s
  And le compteur indique le nombre de résultats

Scenario: Tag inexistant
  Given aucun article avec le tag "Go"
  When je sélectionne le tag "Go"
  Then la liste est vide
  And un message "Aucun résultat" s'affiche
```

---

## 4) 🍰 Découper une story trop grosse (slicing)

Story trop large : « En tant que lecteur, je veux **rechercher** des articles (texte, tags, tri, pagination, favoris…). »

**Slicing possible**

* **F1** : Filtrer par **tag** (UI + API)
* **F2** : Champ **q** (texte) sur **titre** uniquement
* **F3** : **Tri** (date desc par défaut)
* **F4** : **Pagination** (10/pg)
* **F5** : **État vide** (message, CTA)

Chaque slice devient une **story S/M** avec ses **GWT**.

---

## 5) 🧩 Lier Story ↔ Tâches ↔ Tests

* Story = **besoin** (PO)
* Tâches = **technique** (équipe) : API, UI, tests, docs
* Tests = **preuve** (dev/test) : unitaires, HTTP/e2e, captures en Review

**Exemple (YAML)**

```yaml
story: "En tant que lecteur, filtrer par tag pour trouver vite."
criteria:
  - "Given articles taggés, When je choisis #PHP, Then seuls #PHP s'affichent"
  - "Given liste vide pour #Go, When je filtre Go, Then message 'Aucun résultat'"
tasks:
  - "API GET /articles?tag={slug}"
  - "UI select + skeleton loading"
  - "Tests HTTP 200/400 + cas vide"
  - "Docs README: paramètre tag"
```

---

## 6) 📝 Templates utiles

**Issue (Story)**

```md
## Story
En tant que <rôle>, je veux <action>, afin de <bénéfice>.

## Critères (GWT)
- Given ...
- When ...
- Then ...

## Contexte/Contraintes
[maquettes, règles métiers, perfs, i18n, accessibilité]

## Notes techniques (optionnel)
[schémas API, migrations, risques]

## DoR (Ready)
- [ ] Compris
- [ ] GWT rédigés
- [ ] Maquettes/API refs
- [ ] Taille S/M

## Estimation
S / M / L (ou 1–3 pts)
```

**PR — rappel acceptance**

```md
## Tests & Acceptation
- [ ] Cas heureux conforme aux GWT
- [ ] Cas d’erreur couvert
- [ ] Captures / GIF ≤10s
```

---

## 7) 🔍 Exemples supplémentaires (bons vs moins bons)

**Moins bon**

```
En tant qu'utilisateur, je veux une recherche rapide.
```

**Meilleur**

```
En tant que lecteur, je veux rechercher par titre (champ q),
afin de trouver un article en < 5 s.
```

**GWT**

```gherkin
Given 100 articles dont 3 avec "Laravel"
When je saisis "Laravel"
Then je vois ces 3 résultats en < 1 s
```

---

## 🧱 Critères non-fonctionnels (à intégrer si pertinents)

* **Perf** : temps de réponse < X s, taille réponse < Y Ko.
* **Sécurité** : rôles/politiques, rate limit, validation entrée.
* **Accessibilité** : focus visible, labels, contraste.
* **i18n** : textes via fichiers de langue.

> Les non-fonctionnels doivent être **mesurables** et **testables**.

---

## 🗺️ Mini-diagramme (vue Story → GWT → Tests)

```mermaid
flowchart LR
  S[User Story] --> C[Critères GWT]
  C --> T[Tests (unit/HTTP/e2e)]
  T --> R[Review (démo GWT)]
```

---

## 📦 Livrables attendus

* Stories **INVEST** (S/M) avec **GWT** clairs.
* Issues **remplies** avec template.
* Exemple **tests** alignés avec GWT (au moins 1 succès + 1 erreur).

---

## ✅ DoD — Definition of Done (chapitre)

* [ ] 3 stories rédigées **format Story** + **GWT**.
* [ ] 1 story découpée (slicing) en 2–3 sous-stories S/M.
* [ ] Lien **PR ↔ Issue** (Closes #ID) et **tests** en place.

---

## 🩹 Erreurs fréquentes & correctifs

* ❌ Story solution (« ajouter un select ») → revenir au **besoin**.
* ❌ GWT flous (« rapide », « simple ») → ajouter **seuils** mesurables.
* ❌ Trop de critères (10+) → **réduire** (2–5) + tests ciblés.
* ❌ Story L/XL → **slicing** par parcours/étapes.
* ❌ Pas de cas d’erreur → ajouter **au moins 1** scenario négatif.