---
title: 3.2. API REST & Normalisation
layout: home
nav_order: 5
permalink: /api-rest/introduction/
---

# ğŸ“˜ Chapitre 3.2.0 â€” Introduction Ã  lâ€™API REST & Normalisation

## ğŸ“’ Glossaire minute
- **API REST** : interface dâ€™accÃ¨s aux donnÃ©es via **HTTP** (GET/POST/PUT/DELETE) en **JSON**.  
- **Pagination** : dÃ©coupage en pages (`?page=2`).  
- **Filtre** : sÃ©lection par critÃ¨res (`?q=laravel&tag=PHP`).  
- **Tri** : ordre des rÃ©sultats (`?sort=-published_at`).  
- **Resource / ResourceCollection** : classes Laravel pour **formater** les rÃ©ponses API.  
- **Contrat API** : spÃ©cification stable (endpoints, schÃ©mas JSON, codes) partagÃ©e avec le Mobile.  

---

## ğŸ¯ Objectifs pÃ©dagogiques
- Exposer une **API propre** pour `articles` (liste + dÃ©tail).  
- Ajouter **pagination**, **filtres** et **tri**.  
- Normaliser la structure avec **Resource** / **ResourceCollection**.  
- DÃ©finir un **contrat minimal** et le documenter (Postman/Insomnia).  

---

## âœ… PrÃ©-requis
- **C3.0** (PHP/POO, JSON, Composer).  
- **C3.1** (MVC, migrations/seeders, CRUD Article).  

---

## ğŸ—ºï¸ Plan de lâ€™autoformation
**UA 3.2.U1 â€” API Laravel (base)**  
- Chapitre 3.2.1 : Routes API & JSON  
- Chapitre 3.2.2 : Pagination & filtres  

**UA 3.2.U2 â€” Normalisation & contrat**  
- Chapitre 3.2.3 : `Resource` & `ResourceCollection`  
- Chapitre 3.2.4 : Contrat API minimal + documentation  

---

## ğŸ”Œ PortÃ©e fonctionnelle (fil rouge)
- **GET `/api/articles`** â†’ liste paginÃ©e, filtrable, triable.  
- **GET `/api/articles/{id}`** â†’ dÃ©tail dâ€™un article.  

---

## ğŸ“¦ Structure JSON attendue

### 1) Liste
```json
{
  "data": [
    {
      "id": 12,
      "title": "Pagination & filtres",
      "slug": "pagination-filtres",
      "excerpt": "RÃ©sumÃ© courtâ€¦",
      "author": "Sara",
      "published_at": "2025-08-20T10:23:00Z",
      "tags": ["Laravel", "MySQL"]
    }
  ],
  "meta": {
    "page": 1,
    "per_page": 10,
    "total": 42,
    "sort": "-published_at",
    "filters": {"q": "eloquent","tag": "PHP"}
  },
  "links": {
    "self": ".../api/articles?page=1",
    "next": ".../api/articles?page=2",
    "prev": null
  }
}
````

### 2) DÃ©tail

```json
{
  "data": {
    "id": 12,
    "title": "Pagination & filtres",
    "slug": "pagination-filtres",
    "excerpt": "RÃ©sumÃ© courtâ€¦",
    "content": "Texte completâ€¦",
    "author": "Sara",
    "published_at": "2025-08-20T10:23:00Z",
    "tags": ["Laravel", "MySQL"]
  }
}
```

### 3) Erreur

```json
{ "message": "Article not found." }
```

---

## ğŸ§© DÃ©coupage technique

* Routes dans `routes/api.php`.
* ContrÃ´leurs API sÃ©parÃ©s.
* Resources Laravel (`ArticleResource`).
* Query scopes pour filtres/tri.
* Tests pour valider pagination + erreurs.

---

## ğŸ§ª CritÃ¨res de rÃ©ussite

* `/api/articles` renvoie 200 avec `data[]`, `meta`, `links`.
* Filtres supportÃ©s : `q`, `tag`, `sort`.
* `/api/articles/{id}` renvoie 404 cohÃ©rent si absent.
* Structure JSON **stable** et **documentÃ©e**.

---

## ğŸ“‘ Livrables attendus

1. Endpoints fonctionnels.
2. `ArticleResource` & `ResourceCollection`.
3. Collection Postman/Insomnia.
4. Mini README API.

---

## ğŸ§­ Bonnes pratiques

* **Toujours** renvoyer `data`, `meta`, `links`.
* Centraliser le format dans `Resource`.
* Versionner lâ€™API (`/api/v1`).
* Documenter les codes dâ€™Ã©tat (200/404/422/500).

---

## ğŸ§° Exercice (N1 â€“ Imitation)

* CrÃ©er `/api/articles` avec pagination (10/page).
* Supporter `?q=` et `?sort=`.
* Exporter une collection Postman avec 2 requÃªtes.

---

## ğŸ§¾ RÃ©sumÃ©

* Lâ€™API doit Ãªtre **lisible, stable, normalisÃ©e**.
* Laravel `Resource` garantit un format cohÃ©rent.
* Un **contrat documentÃ©** facilite lâ€™intÃ©gration Mobile.

